(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],[,,,,function(e,t,a){e.exports={background_img:"Menu_background_img__38xqw",cover:"Menu_cover__2QfiB",wrapper:"Menu_wrapper___A9bb",profile_photo:"Menu_profile_photo__1CRng",hero_block:"Menu_hero_block__2TqsP",title:"Menu_title__1kCzW",list:"Menu_list__3420P",btn:"Menu_btn__X1pAl",logout_margin:"Menu_logout_margin__1Xk0m",border:"Menu_border__2f53Y",text:"Menu_text__UQLh1",icon:"Menu_icon__gdlxn"}},,,,function(e,t,a){e.exports={class_mod:"UserProfile_class_mod__16KNs",background_img:"UserProfile_background_img__2CQaq",wrapper:"UserProfile_wrapper__jPFIA",profile_photo:"UserProfile_profile_photo__1Tazv",hero_block:"UserProfile_hero_block__2HBmg",title:"UserProfile_title__3CVsm",Linkedin_icon:"UserProfile_Linkedin_icon__2CkDm",department:"UserProfile_department__3X9cU",role:"UserProfile_role__2U9PO",email:"UserProfile_email__3Nyqf",btnStyle:"UserProfile_btnStyle__35lhE",iconStyle:"UserProfile_iconStyle__aiV3S",nav:"UserProfile_nav__1seiB"}},function(e,t,a){e.exports=a.p+"static/media/back-icon.69eb6e06.svg"},,function(e,t,a){e.exports={class_mod:"UpdateProfile_class_mod__25dgP",background_img:"UpdateProfile_background_img__Bh1p6",wrapper:"UpdateProfile_wrapper__2_W_v",photo_container:"UpdateProfile_photo_container__uJcWh",profile_photo:"UpdateProfile_profile_photo__10YU2",preview_img:"UpdateProfile_preview_img__3AtZ8",red_banner:"UpdateProfile_red_banner__pNoyR",banner_text:"UpdateProfile_banner_text__304PR",title:"UpdateProfile_title__3svLX",role:"UpdateProfile_role__2SyI6",update_list:"UpdateProfile_update_list__3IEE_",btn_list:"UpdateProfile_btn_list__3kB-Q",btn_block:"UpdateProfile_btn_block__27N7E",btnStyle:"UpdateProfile_btnStyle__3b7Nq",iconStyle:"UpdateProfile_iconStyle__3aM6w"}},function(e,t,a){e.exports={"image-upload__preview":"ImageUpload_image-upload__preview__1aPwU",photo_container:"ImageUpload_photo_container__h-9K1",profile_photo:"ImageUpload_profile_photo__3ycyX",preview_img:"ImageUpload_preview_img__1M4BB",red_banner:"ImageUpload_red_banner__FkUfd",banner_text:"ImageUpload_banner_text__1clgr",image_container:"ImageUpload_image_container__1fjxI",icon_block:"ImageUpload_icon_block__2d8se",icon:"ImageUpload_icon__TrePL",text:"ImageUpload_text__25s2J",preview_post:"ImageUpload_preview_post__2o_Z0",red_banner_post:"ImageUpload_red_banner_post__emvt7",banner_text_post:"ImageUpload_banner_text_post__2OVEH"}},,function(e,t,a){e.exports={block:"InputField_block__3Z4Ew",border_white:"InputField_border_white__j4Tl-",invalid:"InputField_invalid__1V_wR",label:"InputField_label__1bYzx",input_error:"InputField_input_error__eZQes",wrapper:"InputField_wrapper__30toi",input_height:"InputField_input_height__1w_Pg",textarea:"InputField_textarea__31sHW",icon:"InputField_icon__3G-xh",box:"InputField_box__2c4T3",white_box:"InputField_white_box__1x-zJ"}},,,function(e,t,a){e.exports={block:"Counter_block__1IQGN",counter:"Counter_counter__1TppR",title:"Counter_title__DD1Hs",count:"Counter_count__3i1th",text:"Counter_text__3ouX4",logotype:"Counter_logotype__2JUJI"}},,,function(e,t,a){e.exports={container:"NewPost_container__yjssi",head:"NewPost_head__3a5ci",tab:"NewPost_tab__1WDY2",tab_border:"NewPost_tab_border__2Dhfa",wrapper:"NewPost_wrapper__3-CwQ",title:"NewPost_title__1orbJ",form:"NewPost_form__TdeRm",back_btn:"NewPost_back_btn__2G847",send_btn:"NewPost_send_btn__3hAc4"}},function(e,t,a){e.exports={btn_active:"TabBtn_btn_active__26XVG",container_active:"TabBtn_container_active__1A7rL",icon_active:"TabBtn_icon_active__17Vci",text_active:"TabBtn_text_active__zMsFx",btn:"TabBtn_btn__2uC5t",container:"TabBtn_container__1B7e2",icon:"TabBtn_icon__3m7IN",text:"TabBtn_text__2s_8n"}},function(e,t,a){e.exports={container:"CommentPost_container__23RUZ",wrapper:"CommentPost_wrapper__EwFuZ",comment_form:"CommentPost_comment_form__3iAGW",comment_wrap:"CommentPost_comment_wrap__1JaBM",btn:"CommentPost_btn__2qso_",icon:"CommentPost_icon__2WgTm",box:"CommentPost_box__1GPGD"}},function(e,t,a){e.exports=a.p+"static/media/generic_profile_picture.ffc734c4.jpg"},function(e,t,a){e.exports={btn:"UIBtn_btn__N6iYR",text:"UIBtn_text__xz3uR",icon:"UIBtn_icon__1cT3O",justify:"UIBtn_justify__3bSeM",warning:"UIBtn_warning__3I7AU",valid:"UIBtn_valid__2pyig",cancel:"UIBtn_cancel__2nJ8Y"}},function(e,t,a){e.exports={block:"UserHeader_block__3Hac-",photo:"UserHeader_photo__3f4as",text:"UserHeader_text__2s189",text_division:"UserHeader_text_division__1-K40",delete_btn:"UserHeader_delete_btn___eV99",delete_icon:"UserHeader_delete_icon__1EWPK"}},function(e,t,a){e.exports={label:"SelectField_label__2wZZM",dropdown:"SelectField_dropdown__2SpfF",dropdown_btn:"SelectField_dropdown_btn__1CQts",option:"SelectField_option__P3WRu",input_error:"SelectField_input_error__30Bmm",invalid:"SelectField_invalid__147oe"}},,function(e,t,a){e.exports={reaction_btn:"ReactionBtn_reaction_btn__1Bgt1",icon:"ReactionBtn_icon__mIbal"}},function(e,t,a){e.exports={block:"Post_block__38d65",title:"Post_title__2DVAi",photo:"Post_photo__vWhTV",reactions:"Post_reactions__3CJmz",comments_btn:"Post_comments_btn__1_V_j",push_right:"Post_push_right__3ftgG",comment_btn:"Post_comment_btn__3j2Pz"}},,function(e,t,a){e.exports=a.p+"static/media/person-icon.13fff284.svg"},function(e,t,a){e.exports=a.p+"static/media/logo.9fbde2c2.png"},function(e,t,a){e.exports=a.p+"static/media/password-icon.3807eb0c.svg"},,function(e,t,a){e.exports={modal:"Modal_modal__-1MCv",modal__content:"Modal_modal__content__3VqUc",modal__footer:"Modal_modal__footer__3S5F9","modal-enter":"Modal_modal-enter__3QJmg","modal-enter-active":"Modal_modal-enter-active__2zSdo","modal-exit":"Modal_modal-exit__1Lmk7","modal-exit-active":"Modal_modal-exit-active__1GIeg"}},function(e,t,a){e.exports={header:"Posts_header__zOZoC",container:"Posts_container__vip4Q",btn:"Posts_btn__2JiWD",text:"Posts_text__3vnbo",icon:"Posts_icon__3gQXE"}},function(e,t,a){e.exports=a.p+"static/media/signup-icon.34cd9cab.svg"},function(e,t,a){e.exports=a.p+"static/media/login-icon.d2e9ba6c.svg"},function(e,t,a){e.exports=a.p+"static/media/post-icon.b8ec1592.svg"},function(e,t,a){e.exports=a.p+"static/media/categories-icon.a2cc9e0c.svg"},function(e,t,a){e.exports=a.p+"static/media/close-icon.80a3ebc0.svg"},function(e,t,a){e.exports=a.p+"static/media/send-icon.56611ebb.svg"},function(e,t,a){e.exports=a.p+"static/media/modify-icon.b5ae602e.svg"},,function(e,t,a){e.exports={btn:"NavBtn_btn__pL39T",icon:"NavBtn_icon__3ZAh3"}},,function(e,t,a){},,,function(e,t,a){e.exports={btn:"ActionBtn_btn__3aNiu",icon:"ActionBtn_icon__3RizB"}},function(e,t,a){e.exports={btn:"ConfirmModal_btn__20rU_",okIcon:"ConfirmModal_okIcon__3gHcB"}},function(e,t,a){e.exports={block:"Comment_block__3Cr_7",text:"Comment_text__3vWSc"}},,,,function(e,t,a){e.exports=a.p+"static/media/menu-icon.e07316bd.svg"},function(e,t,a){e.exports=a.p+"static/media/agenda-icon.1a8a09ec.svg"},function(e,t,a){e.exports=a.p+"static/media/logout-icon.d93f43f1.svg"},function(e,t,a){e.exports=a.p+"static/media/posts-icon.b39fb484.svg"},function(e,t,a){e.exports={backdrop:"Backdrop_backdrop__28QCc"}},function(e,t,a){e.exports={btn:"ErrorModal_btn__1_N58"}},,function(e,t,a){e.exports=a.p+"static/media/lastname-icon.ab6f7952.svg"},function(e,t,a){e.exports=a.p+"static/media/email-icon.75cb8ec9.svg"},function(e,t,a){e.exports={input_list:"Signup_input_list__yjwKS"}},function(e,t,a){e.exports=a.p+"static/media/clock-icon.400e2e3e.svg"},function(e,t,a){e.exports=a.p+"static/media/coffee-icon.3849d652.svg"},function(e,t,a){e.exports=a.p+"static/media/like-icon.d8a1ba16.svg"},function(e,t,a){e.exports=a.p+"static/media/dislike-icon.06913d04.svg"},function(e,t,a){e.exports=a.p+"static/media/comment-icon.e600818e.svg"},function(e,t,a){e.exports=a.p+"static/media/comments-icon.2f8c4bd8.svg"},function(e,t,a){e.exports=a.p+"static/media/x-icon.eeaccb41.svg"},function(e,t,a){e.exports={header:"PostList_header__1aZJu",container:"PostList_container__2JMvx"}},function(e,t,a){e.exports=a.p+"static/media/linkedin-icon.06701358.svg"},function(e,t,a){e.exports=a.p+"static/media/linkedin-grey-icon.53c46fed.svg"},function(e,t,a){e.exports=a.p+"static/media/logotype.9c126e27.svg"},function(e,t,a){e.exports=a.p+"static/media/delete-icon.5ce044d9.svg"},function(e,t,a){e.exports=a.p+"static/media/ok-icon.353b7575.svg"},function(e,t,a){e.exports=a.p+"static/media/image-icon.937fb3c8.svg"},,,function(e,t,a){e.exports=a(98)},,,,,function(e,t,a){},,,,,,function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n,r=a(0),o=a.n(r),c=a(18),i=a.n(c),l=a(5),s=(a(87),a(6)),m=a(1),u=Object(r.createContext)({isLoggedIn:!1,userId:null,token:null,account:null,login:function(){},logout:function(){}});function p(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}var d=function(){var e=Object(r.useState)(p()),t=Object(m.a)(e,2),a=t[0],n=t[1];return Object(r.useEffect)((function(){function e(){n(p())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),a},_=a(37),b=a.n(_),f=a(38),E=a.n(f),g=a(45),v=a.n(g),h=function(e){return o.a.createElement(l.b,{to:e.link,className:e.btnStyle||v.a.btn},o.a.createElement("img",{className:"".concat(v.a.icon," ").concat(e.iconColor),src:e.icon,alt:""}),o.a.createElement("span",{className:e.textStyle||v.a.text},e.name))},k=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(h,{icon:E.a,name:"connexion",link:"/login",iconColor:"icon_white"}),o.a.createElement(h,{icon:b.a,name:"s'inscrire",link:"/signup",iconColor:"icon_white"}))},N=a(9),x=a.n(N),O=a(50),w=a.n(O),C=function(e){return o.a.createElement("button",{id:e.id,form:e.form,className:w.a.btn,type:e.type,onClick:e.onClick},o.a.createElement("img",{className:"".concat(w.a.icon," ").concat(e.iconColor),src:e.icon,alt:""}),e.name)},y=function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement(C,{icon:x.a,name:"retourner",onClick:e.backHandle,iconColor:"icon_white"}),o.a.createElement(C,{id:"login-btn",form:"login-form",name:"connexion",type:"submit",icon:E.a,iconColor:"icon_white"}))},T=function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement(C,{icon:x.a,name:"retourner",onClick:e.backHandle,iconColor:"icon_white"}),o.a.createElement(C,{id:"signup-btn",form:"signup-form",name:"s'inscrire",type:"submit",icon:b.a,iconColor:"icon_white"}))},I=a(56),j=a.n(I),S=a(39),P=a.n(S),U=a(40),V=a.n(U),L=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(h,{id:"menu",name:"menu",icon:j.a,link:"/menu",iconColor:"icon_white"}),o.a.createElement(h,{id:"post",name:"publier",icon:P.a,link:"/posts/new",iconColor:"icon_white"}),o.a.createElement(h,{id:"categories",name:"cat\xe9gories",icon:V.a,link:"/posts",iconColor:"icon_white"}))},D=a(41),R=a.n(D),A=function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement(C,{icon:R.a,name:"fermer",onClick:e.backHandle,iconColor:"icon_white"}))},B=a(42),F=a.n(B),H=function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement(C,{icon:x.a,name:"retourner",onClick:e.backHandle,iconColor:"icon_white"}),o.a.createElement(C,{id:"send-post-btn",form:"send-post-form",name:"publier",type:"submit",icon:F.a,iconColor:"icon_white"}))},W=function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement(C,{icon:x.a,name:"retourner",onClick:e.backHandle,iconColor:"icon_white"}))},M=a(43),z=a.n(M),G=Object(s.i)((function(e){var t,a=Object(r.useContext)(u),n=Number(e.location.pathname.split("/")[2]);return t=a.userId===n?o.a.createElement(h,{id:"update-profile",name:"modifier",icon:z.a,link:"/profile/".concat(a.userId,"/update"),iconColor:"icon_white"}):"",o.a.createElement(o.a.Fragment,null,o.a.createElement(h,{id:"back",name:"retourner",icon:x.a,link:"/posts",iconColor:"icon_white"}),a.userId&&n&&t)})),K=function(e){var t=Object(r.useContext)(u);return o.a.createElement(o.a.Fragment,null,o.a.createElement(h,{icon:R.a,name:"annuler",link:"/profile/".concat(t.userId),iconColor:"icon_white"}))},q=(a(93),Object(s.i)((function(e){var t,a=Object(r.useContext)(u),n=e.location.pathname.split("/")[2],c=function(t){t.preventDefault(),e.history.goBack()};switch(e.location.pathname){case"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/groupomania.app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_URL:"https://groupomania-backend.herokuapp.com"}).GITHUB_URL,"/"):t=o.a.createElement(k,null);break;case"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/groupomania.app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_URL:"https://groupomania-backend.herokuapp.com"}).GITHUB_URL,"/login"):t=o.a.createElement(y,{backHandle:c});break;case"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/groupomania.app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_URL:"https://groupomania-backend.herokuapp.com"}).GITHUB_URL,"/signup"):t=o.a.createElement(T,{backHandle:c});break;case"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/groupomania.app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_URL:"https://groupomania-backend.herokuapp.com"}).GITHUB_URL,"/posts"):a.isLoggedIn&&(t=o.a.createElement(L,{backHandle:c}));break;case"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/groupomania.app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_URL:"https://groupomania-backend.herokuapp.com"}).GITHUB_URL,"/menu"):a.isLoggedIn&&(t=o.a.createElement(A,{backHandle:c}));break;case"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/groupomania.app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_URL:"https://groupomania-backend.herokuapp.com"}).GITHUB_URL,"/posts/new"):a.isLoggedIn&&(t=o.a.createElement(H,{backHandle:c}));break;case"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/groupomania.app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_URL:"https://groupomania-backend.herokuapp.com"}).GITHUB_URL,"/posts/").concat(n):a.isLoggedIn&&(t=o.a.createElement(W,{backHandle:c,commentHandle:c}));break;case"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/groupomania.app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_URL:"https://groupomania-backend.herokuapp.com"}).GITHUB_URL,"/profile/").concat(n):a.isLoggedIn&&(t=o.a.createElement(G,{backHandle:c}));break;case"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/groupomania.app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_URL:"https://groupomania-backend.herokuapp.com"}).GITHUB_URL,"/profile/").concat(a.userId,"/update"):a.isLoggedIn&&(t=o.a.createElement(K,null));break;default:console.log("NAV: Something went wrong!")}return o.a.createElement("footer",null,o.a.createElement("div",{className:"nav_btn_list"},t))}))),J=a(2),X=a.n(J),Q=a(3),Z=function(){var e=Object(r.useState)(!1),t=Object(m.a)(e,2),a=t[0],n=t[1],o=Object(r.useState)(),c=Object(m.a)(o,2),i=c[0],l=c[1],s=Object(r.useRef)([]),u=Object(r.useCallback)(function(){var e=Object(Q.a)(X.a.mark((function e(t){var a,r,o,c,i,m,u=arguments;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>1&&void 0!==u[1]?u[1]:"",r=u.length>2&&void 0!==u[2]?u[2]:null,o=u.length>3&&void 0!==u[3]?u[3]:{},n(!0),c=new AbortController,s.current.push(c),e.prev=6,e.next=9,fetch(t,{method:a,body:r,headers:o,signal:c.signal});case 9:return i=e.sent,e.next=12,i.json();case 12:if(m=e.sent,s.current=s.current.filter((function(e){return e!==c})),i.ok){e.next=16;break}throw new Error(m.message);case 16:return n(!1),e.abrupt("return",m);case 20:throw e.prev=20,e.t0=e.catch(6),l(e.t0.message),n(!1),e.t0;case 25:case"end":return e.stop()}}),e,null,[[6,20]])})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(r.useEffect)((function(){return function(){s.current.forEach((function(e){return e.abort()}))}}),[]),{isLoading:a,error:i,sendRequest:u,clearError:function(){l(null)}}},Y=a(23),$=a.n(Y),ee=a(31),te=a.n(ee),ae=a(57),ne=a.n(ae),re=a(58),oe=a.n(re),ce=a(59),ie=a.n(ce),le=a(100),se=a(60),me=a.n(se),ue=function(e){return i.a.createPortal(o.a.createElement("div",{className:me.a.backdrop,onClick:e.onClick}),document.getElementById("backdrop-hook"))},pe=a(35),de=a.n(pe),_e=function(e){var t=o.a.createElement("div",{className:"".concat(de.a.modal," ").concat(e.className),style:e.style},o.a.createElement("form",{onSubmit:e.onSubmit?e.onSubmit:function(e){return e.preventDefault()}},o.a.createElement("div",{className:"".concat(de.a.modal__content," ").concat(e.contentClass)},e.children),o.a.createElement("footer",{className:"".concat(de.a.modal__footer," ").concat(e.footerClass)},e.footer)));return i.a.createPortal(t,document.getElementById("modal-hook"))},be=function(e){return o.a.createElement(o.a.Fragment,null,e.show&&o.a.createElement(ue,{onClick:e.onCancel}),o.a.createElement(le.a,{in:e.show,mountOnEnter:!0,unmountOnExit:!0,timeout:10,classNames:de.a.modal},o.a.createElement(_e,e)))},fe=a(24),Ee=a.n(fe),ge=function(e){var t,a;return t=e.icon?o.a.createElement("img",{id:"icon",className:"".concat(Ee.a.icon," ").concat(e.iconColor),src:e.icon,alt:""}):null,"valid"===e.btnType&&(a=Ee.a.valid),"cancel"===e.btnType&&(a=Ee.a.cancel),"warning"===e.btnType&&(a=Ee.a.warning),o.a.createElement("button",{id:e.id,className:"".concat(Ee.a.btn," ").concat(a," ").concat(e.buttonClass),type:e.type,form:e.form,onClick:e.onClick},o.a.createElement("div",{className:Ee.a.justify},o.a.createElement("span",{className:Ee.a.text},e.name),t))},ve=a(61),he=a.n(ve),ke=function(e){return o.a.createElement(be,{onCancel:e.onClear,header:"An Error Occurred!",show:!!e.error,footer:o.a.createElement(ge,{id:"accept-btn",name:"Ok",type:"submit",btnType:"warning",onClick:e.onClear,buttonClass:he.a.btn})},o.a.createElement("p",null,e.error))},Ne=(a(95),function(e){return o.a.createElement("div",{className:"".concat(e.asOverlay&&"loading-spinner__overlay")},o.a.createElement("div",{className:"lds-dual-ring"}))}),xe=a(4),Oe=a.n(xe),we=function(){var e=Object(r.useContext)(u),t=Z(),a=t.isLoading,n=t.error,c=t.sendRequest,i=t.clearError,p=d().width,_=Object(s.g)(),b=Object(r.useState)(),f=Object(m.a)(b,2),E=f[0],g=f[1];Object(r.useEffect)((function(){var t=!0;e.token&&e.userId&&function(){var a=Object(Q.a)(X.a.mark((function a(){var n;return X.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,c("".concat("https://groupomania-backend.herokuapp.com","/profile/").concat(e.userId),"GET",null,{Authorization:"Bearer "+e.token});case 3:n=a.sent,t&&g(n),a.next=9;break;case 7:a.prev=7,a.t0=a.catch(0);case 9:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(){return a.apply(this,arguments)}}()();return function(){return t=!1}}),[c,e.token,e.userId,g]);var v;return p>=1024&&(v=o.a.createElement(o.a.Fragment,null,o.a.createElement(l.b,{to:"/posts",className:"".concat(Oe.a.btn," ").concat(Oe.a.border)},o.a.createElement("span",{className:Oe.a.text},"Publications"),o.a.createElement("img",{className:"".concat(Oe.a.icon," icon_white"),src:ie.a,alt:""})),o.a.createElement(l.b,{to:"/posts",className:"".concat(Oe.a.btn," ").concat(Oe.a.border)},o.a.createElement("span",{className:Oe.a.text},"Cat\xe9gories"),o.a.createElement("img",{className:"".concat(Oe.a.icon," icon_white"),src:V.a,alt:""})))),a?o.a.createElement("div",{className:Oe.a.container},o.a.createElement("div",{className:"spinner"},o.a.createElement(Ne,null))):E?o.a.createElement(o.a.Fragment,null,o.a.createElement(ke,{error:n,onClear:i}),o.a.createElement(o.a.Fragment,null,!a&&E&&o.a.createElement("div",{className:Oe.a.cover},o.a.createElement("div",{className:Oe.a.background_img}),o.a.createElement("div",{className:Oe.a.wrapper},o.a.createElement("img",{src:E.photo_url||$.a,className:Oe.a.profile_photo,alt:"".concat(E.firstName," ").concat(E.lastName)}),o.a.createElement("div",{className:Oe.a.hero_block},o.a.createElement("h2",{className:Oe.a.title},"Bienvenue ",E.firstName," !"))),o.a.createElement("nav",{className:Oe.a.list},o.a.createElement(l.b,{to:"profile/".concat(e.userId),className:"".concat(Oe.a.btn," ").concat(Oe.a.border)},o.a.createElement("span",{className:Oe.a.text},"Mon profil"),o.a.createElement("img",{className:"".concat(Oe.a.icon," icon_white"),src:te.a,alt:""})),v,o.a.createElement(l.b,{to:"/posts",className:"".concat(Oe.a.btn," ").concat(Oe.a.border)},o.a.createElement("span",{className:Oe.a.text},"Annuaire"),o.a.createElement("img",{className:"".concat(Oe.a.icon," icon_white"),src:ne.a,alt:""})),o.a.createElement("button",{className:"".concat(Oe.a.btn," ").concat(Oe.a.logout_margin),onClick:function(t){t.preventDefault(),e.logout(),_.push("/")}},o.a.createElement("span",{className:Oe.a.text},"Se d\xe9connecter"),o.a.createElement("img",{className:"".concat(Oe.a.icon," icon_white"),src:oe.a,alt:""})))))):o.a.createElement(o.a.Fragment,null,o.a.createElement(ke,{error:n,onClear:i}),o.a.createElement("div",{className:Oe.a.container},o.a.createElement("h2",null,"No User Data!")))},Ce=(a(96),Object(s.i)((function(e){var t=d().width,a=e.location.pathname,n=o.a.createElement(o.a.Fragment,null,o.a.createElement("main",{className:"home_wrapper"},e.children),o.a.createElement(q,null)),r=o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"desktop_wrap"},o.a.createElement(we,null),o.a.createElement("main",{className:"wrapper"},e.children)),o.a.createElement("p",{className:"disclaimer"},"Plan du site \xa9 Groupomania 2020. La Societ\xe9 ne prend aucune responsabilit\xe9 l\xe9gale sur les publications faites par ses employ\xe9s."));if(t<=1023)return n;if(t>=1024)switch(a){case"/":case"/login":case"/signup":return n;default:return r}}))),ye=a(32),Te=a.n(ye),Ie=(a(47),function(){return o.a.createElement("div",{className:"background_image"},o.a.createElement("img",{src:Te.a,className:"logo",alt:"Logo de Groupomania, entreprise de grande distribution europ\xe9enne"}),o.a.createElement("div",{className:"welcome"},o.a.createElement("h3",{className:"title"},"Bienvenue"),o.a.createElement("p",{className:"message"},"sur le r\xe9seau social pour partager avec vos coll\xe8gues !")))}),je=a(44),Se=a(19),Pe=function(e,t){switch(t.type){case"INPUT_CHANGE":var a=!0;for(var n in e.inputs)e.inputs[n]&&(a=n===t.inputId?a&&t.isValid:a&&e.inputs[n].isValid);return Object(Se.a)(Object(Se.a)({},e),{},{inputs:Object(Se.a)(Object(Se.a)({},e.inputs),{},Object(je.a)({},t.inputId,{value:t.value,isValid:t.isValid})),isValid:a});case"SET_DATA":return{inputs:t.inputs,isValid:t.formIsValid};default:return e}},Ue=function(e,t){var a=Object(r.useReducer)(Pe,{inputs:e,isValid:t}),n=Object(m.a)(a,2),o=n[0],c=n[1];return[o,Object(r.useCallback)((function(e,t,a){c({type:"INPUT_CHANGE",value:t,isValid:a,inputId:e})}),[]),Object(r.useCallback)((function(e,t){c({type:"SET_DATA",inputs:e,formIsValid:t})}),[])]},Ve=a(62),Le=function(e){return{type:"MINLENGTH",val:e}},De=function(e){return{type:"MAXLENGTH",val:e}},Re=function(e,t){var a,n=!0,r=Object(Ve.a)(t);try{for(r.s();!(a=r.n()).done;){var o=a.value;"REQUIRED"===o.type&&(n=n&&e.trim().length>0),"MINLENGTH"===o.type&&(n=n&&e.trim().length>=o.val),"MAXLENGTH"===o.type&&(n=n&&e.trim().length<=o.val),"MIN"===o.type&&(n=n&&+e>=o.val),"MAX"===o.type&&(n=n&&+e<=o.val),"TEXT"===o.type&&(n=n&&/^[A-Z\xc0\xc2\xc6\xc7\xc9\xc8\xca\xcb\xcf\xce\xd4\u0152\xd9\xdb\xdc\u0178 '-]+$/i.test(e)),"EMAIL"===o.type&&(n=n&&/^\S+@\S+\.\S+$/.test(e))}}catch(c){r.e(c)}finally{r.f()}return n},Ae=a(33),Be=a.n(Ae),Fe=a(14),He=a.n(Fe),We=function(e,t){switch(t.type){case"CHANGE":return Object(Se.a)(Object(Se.a)({},e),{},{value:t.val,isValid:Re(t.val,t.validators)});case"TOUCH":return Object(Se.a)(Object(Se.a)({},e),{},{isTouched:!0});default:return e}},Me=function(e){var t=Object(r.useReducer)(We,{value:e.initialValue||"",isTouched:!1,isValid:e.initialValid||!1}),a=Object(m.a)(t,2),n=a[0],c=a[1],i=e.id,l=e.onInput,s=n.value,u=n.isValid;Object(r.useEffect)((function(){l(i,s,u)}),[i,s,u,l]);var p,d,_=function(t){c({type:"CHANGE",val:t.target.value,validators:e.validators})},b=function(){c({type:"TOUCH"})};"yes"===e.textIsWhite?(p=He.a.white_box,d=He.a.border_white):(p=He.a.box,d="");var f,E=e.label?o.a.createElement("label",{className:He.a.label,htmlFor:e.id},e.label):null;f=e.icon&&"yes"===e.textIsWhite?o.a.createElement("img",{className:"".concat(He.a.icon," icon_white"),src:e.icon,alt:e.alt}):e.icon?o.a.createElement("img",{className:He.a.icon,src:e.icon,alt:e.alt}):"";var g="input"===e.element?o.a.createElement("input",{id:e.id,className:"".concat(p," ").concat(He.a.input_height," "),name:e.name,type:e.type,placeholder:e.placeholder,autoComplete:e.autocomplete,value:n.value,onChange:_,onBlur:b}):o.a.createElement("textarea",{id:e.id,className:"".concat(p," ").concat(He.a.textarea),name:e.name,type:e.type,rows:e.rows||3,placeholder:e.placeholder,autoComplete:e.autocomplete,value:n.value,onChange:_,onBlur:b});return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"".concat(He.a.block," ").concat(d,"\n        ").concat(!n.isValid&&n.isTouched&&He.a.invalid)},E,o.a.createElement("div",{className:He.a.wrapper},g,f)),!n.isValid&&n.isTouched&&o.a.createElement("p",{className:He.a.input_error},e.errorText))},ze=function(){var e=Object(r.useContext)(u),t=Object(s.g)(),a=Z(),n=a.error,c=a.sendRequest,i=Ue({email:{value:"",isValid:!1},password:{value:"",isValid:!1}},!1),p=Object(m.a)(i,2),d=p[0],_=p[1],b=function(){var a=Object(Q.a)(X.a.mark((function a(n){var r,o;return X.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n.preventDefault(),d.isValid){a.next=3;break}return a.abrupt("return");case 3:return a.prev=3,r={email:d.inputs.email.value,password:d.inputs.password.value},a.next=7,c("".concat("https://groupomania-backend.herokuapp.com","/login"),"POST",JSON.stringify(r),{"Content-Type":"application/json"});case 7:o=a.sent,e.login(o.userId,o.token,o.account),t.push("/posts"),a.next=14;break;case 12:a.prev=12,a.t0=a.catch(3);case 14:case"end":return a.stop()}}),a,null,[[3,12]])})));return function(e){return a.apply(this,arguments)}}();return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"background_image"},o.a.createElement("img",{src:Te.a,className:"logo",alt:"Logo de Groupomania, entreprise de grande distribution europ\xe9enne"}),o.a.createElement("form",{id:"login-form",className:"input_list",onSubmit:b},o.a.createElement(Me,{id:"email",name:"email",type:"email",onInput:_,placeholder:"email",autocomplete:"email",icon:te.a,alt:"email icon",element:"input",hasLabel:"no",textIsWhite:"yes",validators:[{type:"EMAIL"},Le(6)],errorText:"Votre email n'est pas correct",initialValue:d.inputs.email.value,initialValid:d.inputs.email.isValid}),o.a.createElement(Me,{id:"password",name:"password",type:"password",onInput:_,placeholder:"mot de passe",autocomplete:"current-password",icon:Be.a,alt:"password icon",element:"input",hasLabel:"no",textIsWhite:"yes",validators:[Le(8)],errorText:"Votre mot de passe n'est pas correct",initialValue:d.inputs.password.value,initialValid:d.inputs.password.isValid})),o.a.createElement("p",{className:"error_message"},n),o.a.createElement(l.b,{className:"forgot_pass_link",to:"/login"},"mot de passe oubli\xe9 ?")),o.a.createElement("div",{className:"background_blur"}))},Ge=a(63),Ke=a.n(Ge),qe=a(64),Je=a.n(qe),Xe=a(65),Qe=a.n(Xe),Ze=function(){var e=Object(r.useContext)(u),t=Object(s.g)(),a=Ue({firstName:{value:"",isValid:!1},lastName:{value:"",isValid:!1},email:{value:"",isValid:!1},password:{value:"",isValid:!1}},!1),n=Object(m.a)(a,2),c=n[0],i=n[1],l=Z(),p=l.error,d=l.sendRequest,_=function(){var a=Object(Q.a)(X.a.mark((function a(n){var r,o;return X.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n.preventDefault(),c.isValid){a.next=3;break}return a.abrupt("return");case 3:return a.prev=3,r={firstName:c.inputs.firstName.value,lastName:c.inputs.lastName.value.toUpperCase(),email:c.inputs.email.value,password:c.inputs.password.value},a.next=7,d("".concat("https://groupomania-backend.herokuapp.com","/signup"),"POST",JSON.stringify(r),{"Content-Type":"application/json"});case 7:o=a.sent,e.login(o.userId,o.token,o.account),t.push("/posts"),a.next=14;break;case 12:a.prev=12,a.t0=a.catch(3);case 14:case"end":return a.stop()}}),a,null,[[3,12]])})));return function(e){return a.apply(this,arguments)}}();return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"background_image"},o.a.createElement("img",{src:Te.a,className:"logo",alt:"Logo de Groupomania, entreprise de grand distribution europ\xe9en"}),o.a.createElement("form",{id:"signup-form",className:Qe.a.input_list,onSubmit:_},o.a.createElement(Me,{id:"firstName",name:"firstName",type:"text",placeholder:"pr\xe9nom",autocomplete:"given-name",icon:te.a,alt:"first name icon",element:"input",hasLabel:"no",textIsWhite:"yes",validators:[Le(2),{type:"TEXT"}],errorText:"Veuillez rentrer uniquement des lettres",onInput:i,initialValue:c.inputs.firstName.value,initialValid:c.inputs.firstName.isValid}),o.a.createElement(Me,{id:"lastName",name:"lastName",type:"text",placeholder:"nom",autocomplete:"family-name",icon:Ke.a,alt:"last name icon",element:"input",hasLabel:"no",textIsWhite:"yes",validators:[Le(2),{type:"TEXT"}],errorText:"Veuillez rentrer uniquement des lettres",onInput:i,initialValue:c.inputs.lastName.value,initialValid:c.inputs.lastName.isValid}),o.a.createElement(Me,{id:"email",name:"email",type:"email",placeholder:"email",autocomplete:"email",icon:Je.a,alt:"email icon",element:"input",hasLabel:"no",textIsWhite:"yes",validators:[{type:"EMAIL"},Le(6)],errorText:"Votre email n'est pas correct",onInput:i,initialValue:c.inputs.email.value,initialValid:c.inputs.email.isValid}),o.a.createElement(Me,{id:"password",name:"password",type:"password",placeholder:"mot de passe",autocomplete:"current-password",icon:Be.a,alt:"password icon",element:"input",hasLabel:"no",textIsWhite:"yes",validators:[Le(8)],errorText:"Minimum une majuscule, un chiffre et 8 lettres",onInput:i,initialValue:c.inputs.password.value,initialValid:c.inputs.password.isValid})),o.a.createElement("p",{className:"error_message"},p)),o.a.createElement("div",{className:"background_blur"}))},Ye=a(66),$e=a.n(Ye),et=a(67),tt=a.n(et),at=a(21),nt=a.n(at),rt=function(e){var t;return t="active"===e.active?o.a.createElement("button",{className:nt.a.btn_active,onClick:e.onClick},o.a.createElement("div",{className:nt.a.container_active},o.a.createElement("span",{className:nt.a.text_active},e.name),o.a.createElement("img",{className:nt.a.icon_active,src:e.icon,alt:""}))):o.a.createElement("button",{className:nt.a.btn,onClick:e.onClick},o.a.createElement("div",{className:nt.a.container},o.a.createElement("span",{className:nt.a.text},e.name),o.a.createElement("img",{className:nt.a.icon,src:e.icon,alt:""}))),o.a.createElement(o.a.Fragment,null,t)},ot=a(68),ct=a.n(ot),it=a(69),lt=a.n(it),st=a(70),mt=a.n(st),ut=a(71),pt=a.n(ut),dt=a(28),_t=a.n(dt),bt=function(e){var t,a,n="";switch(e.reaction){case"like":n="icon_green";break;case"dislike":n="icon_red";break;case null:n="";break;default:console.log("Something went wrong with reactionColor in ReactionBtn Component")}switch(e.icon){case"like":t=ct.a;break;case"dislike":t=lt.a;break;case"comment":t=mt.a;break;case"comments":t=pt.a;break;default:console.log("Something went wrong with icon in ReactionBtn Component")}switch(e.btnType){case"functional":a=o.a.createElement("button",{name:e.name,className:"".concat(_t.a.reaction_btn," ").concat(e.styling),onClick:e.onReaction},o.a.createElement("img",{className:"".concat(_t.a.icon," ").concat(n),src:t,alt:""}),o.a.createElement("span",null,e.text));break;case"link":a=o.a.createElement(l.b,{to:e.link,className:"".concat(_t.a.reaction_btn," ").concat(e.styling)},o.a.createElement("img",{className:"".concat(_t.a.icon," ").concat(n),src:t,alt:""}),o.a.createElement("span",null,e.text));break;case"decor":a=o.a.createElement("div",{className:"".concat(_t.a.reaction_btn," ").concat(e.styling)},o.a.createElement("img",{className:"".concat(_t.a.icon," ").concat(n),src:t,alt:""}),o.a.createElement("span",null,e.text));break;default:console.log("Something went wrong with btn in ReactionBtn Component")}return o.a.createElement(o.a.Fragment,null,a)},ft=a(72),Et=a.n(ft),gt=a(25),vt=a.n(gt),ht=function(e){var t,a,n,c=Object(r.useContext)(u),i=new Date(e.date),s=new Date,m=Math.abs(s-i);m<=6e3&&(t=Math.ceil(m/1e3)+" s");m>=6e4&&(t=Math.ceil(m/6e4)+" m");m>=36e5&&(t=Math.ceil(m/36e5)+" h");m>=216e6&&(t=Math.ceil(m/864e5)+" j");m>=189216e6&&(t=Math.floor(m/31536e6)+" a");return a=e.category?o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:vt.a.text_division},"|"),o.a.createElement("span",null,e.category)):"",n=c.userId===e.UserId||"admin"===c.account?o.a.createElement("button",{className:vt.a.delete_btn,onClick:e.onDelete},o.a.createElement("img",{className:vt.a.delete_icon,src:Et.a,alt:"delete icon"})):"",o.a.createElement("header",{className:vt.a.block},o.a.createElement(l.b,{to:"/profile/".concat(e.UserId)},o.a.createElement("img",{className:vt.a.photo,src:e.photo_url||$.a,alt:"".concat(e.firstName," ").concat(e.lastName)}),e.firstName," ",e.lastName),o.a.createElement("p",{className:vt.a.text},a,o.a.createElement("span",{className:vt.a.text_division},"\u2022"),o.a.createElement("span",null,t)),n)},kt=a(29),Nt=a.n(kt),xt=Object(s.i)((function(e){var t,a=Object(r.useContext)(u),n=Z(),c=n.isLoading,i=n.sendRequest,l=Object(s.g)(),p=e.location.pathname,d=e.location.pathname.split("/")[2],_=Object(r.useState)(e.likes),b=Object(m.a)(_,2),f=b[0],E=b[1],g=Object(r.useState)(e.dislikes),v=Object(m.a)(g,2),h=v[0],k=v[1],N=Object(r.useState)(e.userReaction),x=Object(m.a)(N,2),O=x[0],w=x[1],C=Object(r.useState)(null!==e.userReaction),y=Object(m.a)(C,2),T=y[0],I=y[1],j=function(){var t=Object(Q.a)(X.a.mark((function t(n){var r;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),t.t0=O,t.next=null===t.t0?4:"null"===t.t0?8:"like"===t.t0?11:"dislike"===t.t0?13:15;break;case 4:return"like"===n.currentTarget.name?(E((function(e){return e+1})),r=n.currentTarget.name):(k((function(e){return e+1})),r=n.currentTarget.name),w(n.currentTarget.name),I(!0),t.abrupt("break",17);case 8:return"like"===n.currentTarget.name?(E((function(e){return e+1})),r=n.currentTarget.name):(k((function(e){return e+1})),r=n.currentTarget.name),w(n.currentTarget.name),t.abrupt("break",17);case 11:return"like"===n.currentTarget.name?(E((function(e){return e-1})),w("null"),r="null"):(E((function(e){return e-1})),k((function(e){return e+1})),w(n.currentTarget.name),r=n.currentTarget.name),t.abrupt("break",17);case 13:return"dislike"===n.currentTarget.name?(k((function(e){return e-1})),w("null"),r="null"):(E((function(e){return e+1})),k((function(e){return e-1})),w(n.currentTarget.name),r=n.currentTarget.name),t.abrupt("break",17);case 15:return console.log("an error was produced in userReactionHandler function on post component"),t.abrupt("break",17);case 17:return t.next=19,fetch("".concat("https://groupomania-backend.herokuapp.com","/posts/reaction"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+a.token},body:JSON.stringify({PostId:e.id,reaction:r,reacted:T})}).catch((function(e){return console.log(e)}));case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),S=function(){var t=Object(Q.a)(X.a.mark((function t(){return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i("".concat("https://groupomania-backend.herokuapp.com","/posts/").concat(e.id),"DELETE",JSON.stringify({image_url:e.image_url}),{"Content-Type":"application/json",Authorization:"Bearer "+a.token});case 3:p==="/posts/".concat(d)?l.push("/posts"):e.onDelete(e.id),t.next=8;break;case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}();return t="/posts"===e.location.pathname?o.a.createElement(o.a.Fragment,null,o.a.createElement(bt,{btnType:"decor",icon:"comments",text:e.comments,styling:"",reaction:null}),o.a.createElement(bt,{btnType:"link",link:e.post_link,reaction:null,icon:"comment",text:"commenter",styling:Nt.a.comment_btn})):o.a.createElement(bt,{btnType:"decor",icon:"comments",text:e.comments,styling:Nt.a.push_right,reaction:null}),o.a.createElement("article",{id:e.id},c&&o.a.createElement("div",{className:"spinner"},o.a.createElement(Ne,{asOverlay:!0})),o.a.createElement(ht,{UserId:e.UserId,photo_url:e.photo_url,firstName:e.firstName,lastName:e.lastName,date:e.date,category:e.category,onDelete:S}),o.a.createElement("section",{className:Nt.a.block},o.a.createElement("h3",{className:Nt.a.title},e.title),o.a.createElement("img",{className:Nt.a.photo,src:e.image_url,alt:"post"}),o.a.createElement("footer",{className:Nt.a.reactions},o.a.createElement(bt,{btnType:"functional",name:"like",onReaction:j,reaction:"like"===O?"like":null,icon:"like",text:f,styling:""}),o.a.createElement(bt,{btnType:"functional",name:"dislike",onReaction:j,reaction:"dislike"===O?"dislike":null,icon:"dislike",text:h,styling:""}),t)))})),Ot=a(73),wt=a.n(Ot),Ct=function(e){return 0===e.items.length?o.a.createElement("div",{className:wt.a.container},o.a.createElement("h2",null,"No Posts Created")):o.a.createElement(o.a.Fragment,null,e.items.map((function(t){return o.a.createElement(xt,{key:t.PostId,id:t.PostId,UserId:t.UserId,photo_url:t.photo_url,firstName:t.firstName,lastName:t.lastName,date:t.post_date,category:t.category,title:t.title,image_url:t.image_url,likes:t.likes,dislikes:t.dislikes,comments:t.comments,userReaction:t.userReaction,post_link:"/posts/".concat(t.PostId),onDelete:e.onDeletePost})})))},yt=a(36),Tt=a.n(yt),It=function(){var e=Object(r.useContext)(u),t=d().width,a=Z(),n=a.isLoading,c=a.error,i=a.sendRequest,s=a.clearError,p=Object(r.useState)([]),_=Object(m.a)(p,2),b=_[0],f=_[1],E=Object(r.useState)({mostRecents:"active",mostLiked:""}),g=Object(m.a)(E,2),v=g[0],h=g[1];Object(r.useEffect)((function(){(function(){var t=Object(Q.a)(X.a.mark((function t(){var a;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i("".concat("https://groupomania-backend.herokuapp.com","/posts"),"GET",null,{Authorization:"Bearer "+e.token});case 3:a=t.sent,f(a),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}})()()}),[i,e.token]);var k,N=function(){var t=Object(Q.a)(X.a.mark((function t(){var a;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return f([]),t.prev=1,t.next=4,i("".concat("https://groupomania-backend.herokuapp.com","/posts"),"GET",null,{Authorization:"Bearer "+e.token});case 4:a=t.sent,f(a),h({mostRecents:"active",mostLiked:""}),t.next=11;break;case 9:t.prev=9,t.t0=t.catch(1);case 11:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(){return t.apply(this,arguments)}}(),x=function(){var t=Object(Q.a)(X.a.mark((function t(){var a;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return f([]),t.prev=1,t.next=4,i("".concat("https://groupomania-backend.herokuapp.com","/posts/most-liked"),"GET",null,{Authorization:"Bearer "+e.token});case 4:a=t.sent,f(a),h({mostRecents:"",mostLiked:"active"}),t.next=11;break;case 9:t.prev=9,t.t0=t.catch(1);case 11:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(){return t.apply(this,arguments)}}();return t>=1024&&(k=o.a.createElement(l.b,{to:"posts/new",className:Tt.a.btn},o.a.createElement("span",{className:Tt.a.text},"NOUVEAU POST"),o.a.createElement("img",{className:Tt.a.icon,src:P.a,alt:""}))),o.a.createElement(o.a.Fragment,null,o.a.createElement(ke,{error:c,onClear:s}),o.a.createElement("nav",{className:Tt.a.header},o.a.createElement(rt,{name:"\xc0 LA UNE",icon:$e.a,active:v.mostRecents,onClick:N}),o.a.createElement(rt,{name:"LES PLUS AIM\xc9S",icon:tt.a,active:v.mostLiked,onClick:x}),k),o.a.createElement("div",{className:"container"},n&&o.a.createElement("div",{className:"spinner"},o.a.createElement(Ne,null)),!n&&v&&b&&o.a.createElement(Ct,{items:b,onDeletePost:function(e){f((function(t){return t.filter((function(t){return t.PostId!==e}))}))}})))},jt=a(74),St=a.n(jt),Pt=a(75),Ut=a.n(Pt),Vt=a(76),Lt=a.n(Vt),Dt=a(17),Rt=a.n(Dt),At=function(e){return o.a.createElement("div",{className:Rt.a.block},o.a.createElement("div",{className:Rt.a.counter},o.a.createElement("h5",{className:Rt.a.title},"Publications"),o.a.createElement("span",{className:Rt.a.count},e.postsCount),o.a.createElement("p",{className:Rt.a.text},"par vous")),o.a.createElement("img",{className:Rt.a.logotype,src:Lt.a,alt:"Logo de Groupomania"}),o.a.createElement("div",{className:Rt.a.counter},o.a.createElement("h5",{className:Rt.a.title},"Aim\xe9es par"),o.a.createElement("span",{className:Rt.a.count},e.likesCount),o.a.createElement("p",{className:Rt.a.text},"vos coll\xe8gues")))},Bt=a(8),Ft=a.n(Bt),Ht=function(){var e=Object(r.useContext)(u),t=Z(),a=t.isLoading,n=t.error,c=t.sendRequest,i=t.clearError,l=Object(r.useState)(),p=Object(m.a)(l,2),_=p[0],b=p[1],f=d().width,E=Number(Object(s.h)().id);Object(r.useEffect)((function(){(function(){var t=Object(Q.a)(X.a.mark((function t(){var a;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c("".concat("https://groupomania-backend.herokuapp.com","/profile/").concat(E),"GET",null,{Authorization:"Bearer "+e.token});case 3:a=t.sent,b(a),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}})()()}),[c,e.token,E]);var g,v=Ft.a.btnStyle,k="".concat(Ft.a.iconStyle," icon_red");return f>=1024&&(g=o.a.createElement("nav",{className:Ft.a.nav},o.a.createElement(h,{id:"back",name:"retourner",icon:x.a,link:"/posts",btnStyle:v,iconColor:k}))),f>=1024&&e.userId===E&&(g=o.a.createElement("nav",{className:Ft.a.nav},o.a.createElement(h,{id:"back",name:"retourner",icon:x.a,link:"/posts",btnStyle:v,iconColor:k}),o.a.createElement(h,{id:"update-profile",name:"Modifier",icon:z.a,link:"/profile/".concat(e.userId,"/update"),btnStyle:v,iconColor:k}))),a?o.a.createElement("div",{className:Ft.a.container},o.a.createElement("div",{className:"spinner"},o.a.createElement(Ne,null))):_?o.a.createElement(o.a.Fragment,null,o.a.createElement(ke,{error:n,onClear:i}),o.a.createElement("div",{className:"container ".concat(Ft.a.class_mod)},!a&&_&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:Ft.a.background_img}),o.a.createElement("div",{className:Ft.a.wrapper},o.a.createElement("img",{src:_.photo_url||$.a,className:Ft.a.profile_photo,alt:"".concat(_.firstName," ").concat(_.lastName,", employ\xe9 chez groupomania.")}),o.a.createElement("div",{className:Ft.a.hero_block},o.a.createElement("h2",{className:Ft.a.title},_.firstName," ",_.lastName),_.linkedin_url?o.a.createElement("a",{href:_.linkedin_url,rel:"noopener"},o.a.createElement("img",{className:Ft.a.Linkedin_icon,src:St.a,alt:"Logo du reseaux social linkedin"})):o.a.createElement("img",{className:Ft.a.Linkedin_icon,src:Ut.a,alt:"Logo du reseaux social linkedin"})),o.a.createElement("p",{className:Ft.a.department},_.department),o.a.createElement("p",{className:Ft.a.role},_.role),o.a.createElement("a",{className:Ft.a.email,href:"mailto:".concat(_.email)},_.email),o.a.createElement(At,{likesCount:_.likesCount||0,postsCount:_.postsCount||0}),g)))):o.a.createElement(o.a.Fragment,null,o.a.createElement(ke,{error:n,onClear:i}),o.a.createElement("div",{className:Ft.a.container},o.a.createElement("h2",null,"No User Data!")))},Wt=a(77),Mt=a.n(Wt),zt=a(78),Gt=a.n(zt),Kt=a(51),qt=a.n(Kt),Jt=function(e){return o.a.createElement(be,{show:e.show,onCancel:e.onCancel,footer:o.a.createElement(ge,{id:"accept-btn",name:"Ok",type:"submit",btnType:"warning",onClick:e.onCancel,buttonClass:qt.a.btn})},o.a.createElement("img",{className:"".concat(qt.a.okIcon," icon_green"),src:Gt.a,alt:""}),o.a.createElement("p",null,e.message))},Xt=a(79),Qt=a.n(Xt),Zt=a(12),Yt=a.n(Zt),$t=Object(s.i)((function(e){var t=Object(r.useState)(),a=Object(m.a)(t,2),n=a[0],c=a[1],i=Object(r.useState)(),l=Object(m.a)(i,2),s=l[0],u=l[1],p=Object(r.useState)(!1),d=Object(m.a)(p,2),_=d[0],b=d[1],f=e.location.pathname;Object(r.useEffect)((function(){if(n){var e=new FileReader;e.onload=function(){u(e.result)},e.readAsDataURL(n)}}),[n]);var E=function(t){var a,n=_;t.target.files&&1===t.target.files.length?(a=t.target.files[0],c(a),b(!0),n=!0):(b(!1),n=!1),e.onInput(e.id,a,n)};return"/posts/new"===f?o.a.createElement(o.a.Fragment,null,o.a.createElement("label",{htmlFor:"upload-button",className:Yt.a.image_container},s?o.a.createElement(o.a.Fragment,null,o.a.createElement("img",{className:Yt.a.preview_post,src:s,alt:"Pr\xe9visualisation de la publication"}),o.a.createElement("div",{className:Yt.a.red_banner_post},o.a.createElement("span",{className:Yt.a.banner_text_post},"changer l'image"))):o.a.createElement("div",{className:Yt.a.icon_block},o.a.createElement("img",{className:Yt.a.icon,src:Qt.a,alt:""}),o.a.createElement("span",{className:Yt.a.text},"Veuillez choisir une image en cliquant ici"))),o.a.createElement("input",{type:"file",accept:".jpeg,.jpg,.gif",id:"upload-button",style:{display:"none"},onChange:E})):o.a.createElement(o.a.Fragment,null,o.a.createElement("label",{htmlFor:"upload-button",className:Yt.a.photo_container},s?o.a.createElement(o.a.Fragment,null,o.a.createElement("img",{className:Yt.a.preview_img,src:s,alt:"Pr\xe9visualisation du profil"}),o.a.createElement("div",{className:Yt.a.red_banner},o.a.createElement("span",{className:Yt.a.banner_text},"changer"))):o.a.createElement("div",null,o.a.createElement("img",{className:Yt.a.profile_photo,src:e.photo_url||$.a,alt:""}),o.a.createElement("div",{className:Yt.a.red_banner},o.a.createElement("span",{className:Yt.a.banner_text},"changer")))),o.a.createElement("input",{type:"file",accept:".jpeg,.jpg",id:"upload-button",style:{display:"none"},onChange:E}))})),ea=a(11),ta=a.n(ea),aa=function(){var e=Object(r.useContext)(u),t=Object(s.g)(),a=d().width,n=Z(),c=n.isLoading,i=n.error,l=n.sendRequest,p=n.clearError,_=Object(r.useState)(),b=Object(m.a)(_,2),f=b[0],E=b[1],g=Object(r.useState)(!1),v=Object(m.a)(g,2),k=v[0],N=v[1],O=Object(r.useState)(!1),w=Object(m.a)(O,2),C=w[0],y=w[1],T=Ue({image:{value:null,isValid:!1},firstName:{value:"",isValid:!1},lastName:{value:"",isValid:!1},email:{value:"",isValid:!1},department:{value:"",isValid:!1},role:{value:"",isValid:!1},linkedin_url:{value:"",isValid:!1},password:{value:"",isValid:!1}},!1),I=Object(m.a)(T,3),j=I[0],S=I[1],P=I[2];Object(r.useEffect)((function(){(function(){var t=Object(Q.a)(X.a.mark((function t(){var a;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l("".concat("https://groupomania-backend.herokuapp.com","/profile/").concat(e.userId),"GET",null,{Authorization:"Bearer "+e.token});case 3:a=t.sent,E(a),P({image:{value:a.photo_url,isValid:!1},firstName:{value:a.firstName,isValid:!0},lastName:{value:a.lastName,isValid:!0},department:{value:a.department,isValid:!0},role:{value:a.role,isValid:!0},email:{value:a.email,isValid:!0},linkedin_url:{value:a.linkedin_url,isValid:!0}},!0),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}})()()}),[l,e.userId,e.token,P]);var U,V=function(){var t=Object(Q.a)(X.a.mark((function t(a){var n;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),(n=new FormData).append("image",j.inputs.image.value),n.append("firstName",j.inputs.firstName.value),n.append("lastName",j.inputs.lastName.value),n.append("department",j.inputs.department.value),n.append("role",j.inputs.role.value),n.append("email",j.inputs.email.value),n.append("linkedin_url",j.inputs.linkedin_url.value),t.prev=9,t.next=12,l("".concat("https://groupomania-backend.herokuapp.com","/profile/update"),"PATCH",n,{Authorization:"Bearer "+e.token});case 12:A(),t.next=17;break;case 15:t.prev=15,t.t0=t.catch(9);case 17:case"end":return t.stop()}}),t,null,[[9,15]])})));return function(e){return t.apply(this,arguments)}}(),L=function(){var t=Object(Q.a)(X.a.mark((function t(a){return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,l("".concat("https://groupomania-backend.herokuapp.com","/profile/update"),"PUT",JSON.stringify({password:j.inputs.password.value}),{"Content-Type":"application/json",Authorization:"Bearer "+e.token});case 4:A(),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(1);case 9:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}(),D=function(e){e.preventDefault(),N(!1===k)},R=function(){var a=Object(Q.a)(X.a.mark((function a(n){return X.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),a.prev=1,a.next=4,l("".concat("https://groupomania-backend.herokuapp.com","/profile/").concat(e.userId),"DELETE",null,{"Content-Type":"application/json",Authorization:"Bearer "+e.token});case 4:e.logout(),t.push("/"),a.next=10;break;case 8:a.prev=8,a.t0=a.catch(1);case 10:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}(),A=function(){y(!0)},B=ta.a.btnStyle,F="".concat(ta.a.iconStyle," icon_red");return a>=1024&&(U=o.a.createElement(h,{id:"back",name:"Retourner",icon:x.a,link:"/profile/".concat(e.userId),btnStyle:B,iconColor:F})),c?o.a.createElement("div",{className:ta.a.container},o.a.createElement("div",{className:"spinner"},o.a.createElement(Ne,null))):f?o.a.createElement(o.a.Fragment,null,o.a.createElement(ke,{error:i,onClear:p}),o.a.createElement(Jt,{show:C,message:"Votre profil a \xe9t\xe9 bien mis a jour !",onCancel:function(){y(!1),setTimeout((function(){t.push("/profile/".concat(e.userId))}),300)}}),o.a.createElement("div",{className:"container ".concat(ta.a.class_mod)},!c&&f&&o.a.createElement("div",{className:ta.a.wrapper},o.a.createElement("div",{className:ta.a.background_img}),o.a.createElement($t,{center:!0,id:"image",onInput:S,errorText:"Choisissez une image",photo_url:f.photo_url}),o.a.createElement("h4",{className:ta.a.title},"Vos informations personnelles"),U,o.a.createElement("form",{id:"update-form",className:ta.a.update_list,onSubmit:V},o.a.createElement(Me,{id:"firstName",label:"Pr\xe9nom :",name:"firstName",type:"text",placeholder:"Votre pr\xe9nom",autocomplete:"given-name",maxLength:"45",element:"input",hasLabel:"yes",textIsWhite:"no",validators:[Le(2),De(45),{type:"TEXT"}],errorText:"Veuillez rentrer votre pr\xe9nom",onInput:S,initialValue:f.firstName,initialValid:!0}),o.a.createElement(Me,{id:"lastName",label:"Nom :",name:"lastName",type:"text",placeholder:"Votre nom",autocomplete:"family-name",maxLength:"45",element:"input",hasLabel:"yes",textIsWhite:"no",validators:[Le(2),De(45),{type:"TEXT"}],errorText:"Veuillez rentrer votre nom de famille",onInput:S,initialValue:f.lastName,initialValid:!0}),o.a.createElement(Me,{id:"email",label:"E-mail :",name:"email",type:"email",placeholder:"Votre e-mail",autocomplete:"email",maxLength:"100",element:"input",hasLabel:"yes",textIsWhite:"no",validators:[{type:"EMAIL"},Le(6),De(100)],errorText:"Votre email n'est pas correct",onInput:S,initialValue:f.email,initialValid:!0}),o.a.createElement(Me,{id:"department",label:"D\xe9partement :",name:"department",type:"text",placeholder:"Votre d\xe9partement",maxLength:"65",element:"input",hasLabel:"yes",textIsWhite:"no",validators:[De(65),{type:"TEXT"}],errorText:"Uniquement des lettres",onInput:S,initialValue:f.department,initialValid:!0}),o.a.createElement(Me,{id:"role",label:"Description du poste :",name:"role",type:"text",placeholder:"Description du poste",maxLength:"65",element:"textarea",hasLabel:"yes",textIsWhite:"no",validators:[De(65),{type:"TEXT"}],errorText:"Uniquement des lettres",onInput:S,initialValue:f.role,initialValid:!0}),o.a.createElement(Me,{id:"linkedin_url",label:"Linkedin (facultatif) :",name:"linkedin",type:"text",placeholder:"Votre adresse Linkedin",element:"input",hasLabel:"yes",textIsWhite:"no",validators:[],onInput:S,initialValue:f.linkedin_url,initialValid:!0})),o.a.createElement(ge,{id:"update-profile-btn",form:"update-form",name:"Mettre \xe0 jour mon profil",type:"submit",btnType:"valid"}),o.a.createElement("h4",{className:ta.a.title},"Changer mon mot de passe"),o.a.createElement("form",{id:"update-password-form",className:ta.a.update_list,onSubmit:L},o.a.createElement(Me,{id:"password",label:"Mot de passe :",name:"password",type:"password",placeholder:"Votre nouveau mot de passe",icon:Be.a,alt:"password icon",maxLength:"50",element:"input",hasLabel:"yes",textIsWhite:"no",validators:[Le(8),De(50)],errorText:"Minimum une majuscule, un chiffre et 8 lettres",onInput:S,initialValue:j.inputs.password.value,initialValid:j.inputs.password.isValid})),o.a.createElement(ge,{id:"update-password-btn",form:"update-password-form",name:"Changer mon mot de passe",type:"submit",btnType:"valid"}),o.a.createElement("h4",{className:ta.a.title},"Supprimer mon compte"),o.a.createElement(ge,{id:"delete-profile-btn",icon:Mt.a,name:"Supprimer",onClick:D,btnType:"warning",iconColor:"icon_white"}),o.a.createElement("div",{style:{display:!0===k?"block":"none"}},o.a.createElement("p",{className:ta.a.role},"Vous \xeates sur le point de supprimer votre compte. Toutes les informations li\xe9es \xe0 ce compte seront supprim\xe9es."),o.a.createElement("h5",{className:ta.a.title},"\xcates-vous s\xfbr(e) de vouloir supprimer votre compte ?"),o.a.createElement("div",{className:ta.a.btn_block},o.a.createElement(ge,{id:"accept-btn",name:"Oui",type:"submit",onClick:R,btnType:"warning"}),o.a.createElement(ge,{id:"cancel-btn",name:"Annuler",onClick:D,btnType:"cancel"})))))):o.a.createElement(o.a.Fragment,null,o.a.createElement(ke,{error:i,onClear:p}),o.a.createElement("div",{className:ta.a.container},o.a.createElement("h2",null,"No User Data!")))},na=a(80),ra=a(52),oa=a.n(ra),ca=function(e){var t=Object(r.useContext)(u),a=Z().sendRequest,n=function(){var n=Object(Q.a)(X.a.mark((function n(){return X.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,a("".concat("https://groupomania-backend.herokuapp.com","/posts/comment/").concat(e.id),"DELETE",null,{Authorization:"Bearer "+t.token});case 3:e.onDeleteComment(e.id),n.next=8;break;case 6:n.prev=6,n.t0=n.catch(0);case 8:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(){return n.apply(this,arguments)}}();return o.a.createElement("div",null,o.a.createElement(ht,{UserId:e.UserId,photo_url:e.photo_url,firstName:e.firstName,lastName:e.lastName,date:e.date,onDelete:n}),o.a.createElement("div",{className:oa.a.block},o.a.createElement("p",{className:oa.a.text},e.message)))},ia=a(22),la=a.n(ia),sa=function(){var e=Object(r.useContext)(u),t=Object(s.h)().id,a=Z(),n=a.isLoading,c=a.error,i=a.sendRequest,l=a.clearError,p=Object(r.useState)(),d=Object(m.a)(p,2),_=d[0],b=d[1],f=Object(r.useState)(),E=Object(m.a)(f,2),g=E[0],v=E[1],h=Ue({comment:{value:"",isValid:!1}},!1),k=Object(m.a)(h,2),N=k[0],x=k[1];Object(r.useEffect)((function(){(function(){var a=Object(Q.a)(X.a.mark((function a(){var n;return X.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,i("".concat("https://groupomania-backend.herokuapp.com","/posts/").concat(t),"GET",null,{Authorization:"Bearer "+e.token});case 3:n=a.sent,b(n[0]),v(n[1].comments_list),a.next=10;break;case 8:a.prev=8,a.t0=a.catch(0);case 10:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(){return a.apply(this,arguments)}})()()}),[i,b,e.token,t,v]);var O=function(){var t=Object(Q.a)(X.a.mark((function t(a){var n;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),N.isValid){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,t.next=6,i("".concat("https://groupomania-backend.herokuapp.com","/posts/comment"),"POST",JSON.stringify({postId:_.PostId,message:N.inputs.comment.value}),{"Content-Type":"application/json",Authorization:"Bearer "+e.token});case 6:n=t.sent,v((function(e){return[].concat(Object(na.a)(e),[n])})),x("comment","",!1),t.next=13;break;case 11:t.prev=11,t.t0=t.catch(3);case 13:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e){return t.apply(this,arguments)}}(),w=function(e){v((function(t){return t.filter((function(t){return t.id!==e}))}))};return n?o.a.createElement("div",{className:la.a.container},o.a.createElement("div",{className:"spinner"},o.a.createElement(Ne,null))):_?o.a.createElement(o.a.Fragment,null,o.a.createElement(ke,{error:c,onClear:l}),o.a.createElement("div",{className:"container"},!n&&_&&g&&o.a.createElement("div",{className:la.a.wrapper},o.a.createElement(xt,{id:_.PostId,UserId:_.UserId,photo_url:_.photo_url,firstName:_.firstName,lastName:_.lastName,date:_.post_date,category:_.category,title:_.title,image_url:_.image_url,likes:_.likes,dislikes:_.dislikes,comments:_.comments,userReaction:_.userReaction,onDelete:function(e){b((function(t){return t.filter((function(t){return t.PostId!==e}))}))}}),o.a.createElement("section",null,g.map((function(e,t){return o.a.createElement(ca,{key:t,id:e.id,UserId:e.UserId,photo_url:e.photo_url,firstName:e.firstName,lastName:e.lastName,date:e.comment_date,message:e.message,onDeleteComment:w})}))),o.a.createElement("div",{className:la.a.comment_wrap},o.a.createElement("form",{className:la.a.comment_form,id:"comment-form",onSubmit:O},o.a.createElement(Me,{id:"comment",className:la.a.box,name:"comment",type:"text",placeholder:"\xc9crivez un commentaire",maxLength:"65",element:"textarea",hasLabel:"yes",textIsWhite:"no",validators:[Le(2),De(65)],errorText:"Veillez \xe9crire un commentaire",onInput:x,initialValue:"",initialValid:!1})),o.a.createElement("button",{form:"comment-form",className:la.a.btn,type:"submit"},o.a.createElement("img",{className:la.a.icon,src:F.a,alt:"publier commentaire"})))))):o.a.createElement(o.a.Fragment,null,o.a.createElement(ke,{error:c,onClear:l}),o.a.createElement("div",{className:la.a.container},o.a.createElement("h2",null,"No User Data!")))},ma=a(26),ua=a.n(ma),pa=function(e){var t=Object(r.useState)(),a=Object(m.a)(t,2),n=a[0],c=a[1],i=Object(r.useState)(!1),l=Object(m.a)(i,2),s=l[0],u=l[1],p=Object(r.useRef)();return o.a.createElement("div",{className:ua.a.dropdown},o.a.createElement("label",{className:ua.a.label,htmlFor:e.id},e.label),o.a.createElement("select",{id:e.id,className:"".concat(ua.a.dropdown_btn,"\n        ").concat(!s&&n&&ua.a.invalid),ref:p,onChange:function(t){var a,n=s;" "!==t.target.value?(a=t.target.value,c(a),u(!0),n=!0):(u(!1),n=!1),e.onInput(e.id,a,n)}},o.a.createElement("option",{className:ua.a.option,value:" "},"Veuillez choisir une cat\xe9gorie"),e.options.map((function(e,t){return o.a.createElement("option",{className:ua.a.option,key:t,value:e.id},e.categoryIs)}))),!s&&n&&o.a.createElement("p",{className:ua.a.input_error},e.errorText))},da=a(20),_a=a.n(da),ba=function(e){var t=Object(r.useContext)(u),a=Object(s.g)(),n=Z(),c=n.isLoading,i=n.error,l=n.sendRequest,p=n.clearError,_=d().width,b=Object(r.useState)(),f=Object(m.a)(b,2),E=f[0],g=f[1],v=Ue({title:{value:"",isValid:!1},category:{value:null,isValid:!1},image:{value:null,isValid:!1}},!1),h=Object(m.a)(v,2),k=h[0],N=h[1];Object(r.useEffect)((function(){(function(){var e=Object(Q.a)(X.a.mark((function e(){var a;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l("".concat("https://groupomania-backend.herokuapp.com","/posts/categories"),"GET",null,{Authorization:"Bearer "+t.token});case 3:a=e.sent,g(a),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[l,t.token,g]);var O,w,C=function(){var e=Object(Q.a)(X.a.mark((function e(n){var r;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),k.isValid){e.next=3;break}return e.abrupt("return");case 3:return(r=new FormData).append("title",k.inputs.title.value),r.append("category",k.inputs.category.value),r.append("image",k.inputs.image.value),e.prev=7,e.next=10,l("".concat("https://groupomania-backend.herokuapp.com","/posts"),"POST",r,{Authorization:"Bearer "+t.token});case 10:a.push("/posts"),e.next=15;break;case 13:e.prev=13,e.t0=e.catch(7);case 15:case"end":return e.stop()}}),e,null,[[7,13]])})));return function(t){return e.apply(this,arguments)}}();return _>=1024&&(O=o.a.createElement("div",{className:_a.a.send_btn},o.a.createElement(ge,{id:"send-post-btn",form:"send-post-form",name:"Publier",type:"submit",btnType:"valid"})),w=o.a.createElement("button",{className:_a.a.back_btn,onClick:function(t){t.preventDefault(),e.history.goBack()}},o.a.createElement("img",{className:"icon_red",src:x.a,alt:""}))),c?o.a.createElement("div",{className:_a.a.container},o.a.createElement("div",{className:"spinner"},o.a.createElement(Ne,null))):E?o.a.createElement(o.a.Fragment,null,o.a.createElement(ke,{error:i,onClear:p}),!c&&E&&o.a.createElement(o.a.Fragment,null,o.a.createElement("header",{className:_a.a.head},o.a.createElement("div",{className:_a.a.tab},w,o.a.createElement("div",{className:_a.a.tab_border},o.a.createElement("h3",{className:_a.a.title},"Nouvelle Publication")))),o.a.createElement("div",{className:"container"},o.a.createElement("form",{className:_a.a.form,id:"send-post-form",onSubmit:C},o.a.createElement(Me,{id:"title",name:"title",type:"text",placeholder:"Titre ou message de la publication",maxLength:"100",element:"textarea",hasLabel:"no",textIsWhite:"no",validators:[Le(2),De(100)],errorText:"Veuillez \xe9crire un commentaire pour votre publication",onInput:N,initialValue:k.inputs.title.value,initialValid:k.inputs.title.isValid}),o.a.createElement($t,{center:!0,id:"image",onInput:N,errorText:"Choisissez une image ou un gif"}),o.a.createElement(pa,{id:"category",label:"Cat\xe9gories :",name:"cat\xe9gories",onInput:N,options:E,errorText:"Choisissez une cat\xe9gorie"}),O)))):o.a.createElement(o.a.Fragment,null,o.a.createElement(ke,{error:i,onClear:p}),o.a.createElement("div",{className:_a.a.container},o.a.createElement("h2",null,"No Data!")))},fa=(a(97),function(){var e,t=function(){var e=Object(r.useState)(!1),t=Object(m.a)(e,2),a=t[0],o=t[1],c=Object(r.useState)(!1),i=Object(m.a)(c,2),l=i[0],s=i[1],u=Object(r.useState)(!1),p=Object(m.a)(u,2),d=p[0],_=p[1],b=Object(r.useState)(),f=Object(m.a)(b,2),E=f[0],g=f[1],v=Object(r.useCallback)((function(e,t,a,n){s(e),o(t),_(a);var r=n||new Date((new Date).getTime()+864e5);g(r),localStorage.setItem("userData",JSON.stringify({userId:e,token:t,account:a,expiration:r.toISOString()}))}),[]),h=Object(r.useCallback)((function(){o(null),s(null),_(null),g(null),localStorage.removeItem("userData")}),[]);return Object(r.useEffect)((function(){if(a&&E){var e=E.getTime()-(new Date).getTime();n=setTimeout(h,e)}else clearTimeout(n)}),[a,h,E]),Object(r.useEffect)((function(){var e=JSON.parse(localStorage.getItem("userData"));e&&e.userId&&e.token&&e.account&&new Date(e.expiration)>new Date&&v(e.userId,e.token,e.account,new Date(e.expiration))}),[v]),{userId:l,token:a,account:d,login:v,logout:h}}(),a=t.userId,c=t.token,i=t.account,l=t.login,p=t.logout;return e=c?o.a.createElement(s.d,null,o.a.createElement(s.b,{path:"/groupomania.app/posts",exact:!0,component:It}),o.a.createElement(s.b,{path:"/groupomania.app/posts/new",exact:!0,component:ba}),o.a.createElement(s.b,{path:"/groupomania.app/menu",exact:!0,component:we}),o.a.createElement(s.b,{path:"/groupomania.app/profile/:id",exact:!0,component:Ht}),o.a.createElement(s.b,{path:"/groupomania.app/profile/:id/update",exact:!0,component:aa}),o.a.createElement(s.b,{path:"/groupomania.app/posts/:id",exact:!0,component:sa}),o.a.createElement(s.a,{to:"/groupomania.app/posts"})):o.a.createElement(s.d,null,o.a.createElement(s.b,{path:"/groupomania.app/",exact:!0,component:Ie}),o.a.createElement(s.b,{path:"/groupomania.app/login",exact:!0,component:ze}),o.a.createElement(s.b,{path:"/groupomania.app/signup",exact:!0,component:Ze}),o.a.createElement(s.a,{to:"/groupomania.app/"})),o.a.createElement(u.Provider,{value:{isLoggedIn:!!c,token:c,userId:a,account:i,login:l,logout:p}},o.a.createElement(Ce,null,e))}),Ea=o.a.createElement(l.a,null,o.a.createElement(fa,null));i.a.render(Ea,document.getElementById("root"))}],[[82,1,2]]]);
//# sourceMappingURL=main.c83797bf.chunk.js.map