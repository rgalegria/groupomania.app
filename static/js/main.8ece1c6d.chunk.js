(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],[,,,,function(e,t,a){e.exports={background_img:"Menu_background_img__38xqw",cover:"Menu_cover__2QfiB",wrapper:"Menu_wrapper___A9bb",profile_photo:"Menu_profile_photo__1CRng",hero_block:"Menu_hero_block__2TqsP",title:"Menu_title__1kCzW",list:"Menu_list__3420P",btn:"Menu_btn__X1pAl",logout_margin:"Menu_logout_margin__1Xk0m",border:"Menu_border__2f53Y",text:"Menu_text__UQLh1",icon:"Menu_icon__gdlxn"}},,,,function(e,t,a){e.exports={class_mod:"UserProfile_class_mod__16KNs",background_img:"UserProfile_background_img__2CQaq",wrapper:"UserProfile_wrapper__jPFIA",profile_photo:"UserProfile_profile_photo__1Tazv",hero_block:"UserProfile_hero_block__2HBmg",title:"UserProfile_title__3CVsm",Linkedin_icon:"UserProfile_Linkedin_icon__2CkDm",department:"UserProfile_department__3X9cU",role:"UserProfile_role__2U9PO",email:"UserProfile_email__3Nyqf",btnStyle:"UserProfile_btnStyle__35lhE",iconStyle:"UserProfile_iconStyle__aiV3S",nav:"UserProfile_nav__1seiB"}},function(e,t,a){e.exports=a.p+"static/media/back-icon.69eb6e06.svg"},,function(e,t,a){e.exports={class_mod:"UpdateProfile_class_mod__25dgP",background_img:"UpdateProfile_background_img__Bh1p6",wrapper:"UpdateProfile_wrapper__2_W_v",photo_container:"UpdateProfile_photo_container__uJcWh",profile_photo:"UpdateProfile_profile_photo__10YU2",preview_img:"UpdateProfile_preview_img__3AtZ8",red_banner:"UpdateProfile_red_banner__pNoyR",banner_text:"UpdateProfile_banner_text__304PR",title:"UpdateProfile_title__3svLX",role:"UpdateProfile_role__2SyI6",update_list:"UpdateProfile_update_list__3IEE_",btn_list:"UpdateProfile_btn_list__3kB-Q",btn_block:"UpdateProfile_btn_block__27N7E",btnStyle:"UpdateProfile_btnStyle__3b7Nq",iconStyle:"UpdateProfile_iconStyle__3aM6w"}},function(e,t,a){e.exports={"image-upload__preview":"ImageUpload_image-upload__preview__1aPwU",photo_container:"ImageUpload_photo_container__h-9K1",profile_photo:"ImageUpload_profile_photo__3ycyX",preview_img:"ImageUpload_preview_img__1M4BB",red_banner:"ImageUpload_red_banner__FkUfd",banner_text:"ImageUpload_banner_text__1clgr",image_container:"ImageUpload_image_container__1fjxI",icon_block:"ImageUpload_icon_block__2d8se",icon:"ImageUpload_icon__TrePL",text:"ImageUpload_text__25s2J",preview_post:"ImageUpload_preview_post__2o_Z0",red_banner_post:"ImageUpload_red_banner_post__emvt7",banner_text_post:"ImageUpload_banner_text_post__2OVEH"}},,function(e,t,a){e.exports={block:"InputField_block__3Z4Ew",border_white:"InputField_border_white__j4Tl-",invalid:"InputField_invalid__1V_wR",label:"InputField_label__1bYzx",input_error:"InputField_input_error__eZQes",wrapper:"InputField_wrapper__30toi",input_height:"InputField_input_height__1w_Pg",textarea:"InputField_textarea__31sHW",icon:"InputField_icon__3G-xh",box:"InputField_box__2c4T3",white_box:"InputField_white_box__1x-zJ"}},,,function(e,t,a){e.exports={block:"Counter_block__1IQGN",counter:"Counter_counter__1TppR",title:"Counter_title__DD1Hs",count:"Counter_count__3i1th",text:"Counter_text__3ouX4",logotype:"Counter_logotype__2JUJI"}},,,function(e,t,a){e.exports={container:"NewPost_container__yjssi",head:"NewPost_head__3a5ci",tab:"NewPost_tab__1WDY2",tab_border:"NewPost_tab_border__2Dhfa",wrapper:"NewPost_wrapper__3-CwQ",title:"NewPost_title__1orbJ",form:"NewPost_form__TdeRm",back_btn:"NewPost_back_btn__2G847",send_btn:"NewPost_send_btn__3hAc4"}},function(e,t,a){e.exports={btn_active:"TabBtn_btn_active__26XVG",container_active:"TabBtn_container_active__1A7rL",icon_active:"TabBtn_icon_active__17Vci",text_active:"TabBtn_text_active__zMsFx",btn:"TabBtn_btn__2uC5t",container:"TabBtn_container__1B7e2",icon:"TabBtn_icon__3m7IN",text:"TabBtn_text__2s_8n"}},function(e,t,a){e.exports={container:"CommentPost_container__23RUZ",wrapper:"CommentPost_wrapper__EwFuZ",comment_form:"CommentPost_comment_form__3iAGW",comment_wrap:"CommentPost_comment_wrap__1JaBM",btn:"CommentPost_btn__2qso_",icon:"CommentPost_icon__2WgTm",box:"CommentPost_box__1GPGD"}},function(e,t,a){e.exports=a.p+"static/media/generic_profile_picture.ffc734c4.jpg"},function(e,t,a){e.exports={btn:"UIBtn_btn__N6iYR",text:"UIBtn_text__xz3uR",icon:"UIBtn_icon__1cT3O",justify:"UIBtn_justify__3bSeM",warning:"UIBtn_warning__3I7AU",valid:"UIBtn_valid__2pyig",cancel:"UIBtn_cancel__2nJ8Y"}},function(e,t,a){e.exports={block:"UserHeader_block__3Hac-",photo:"UserHeader_photo__3f4as",text:"UserHeader_text__2s189",text_division:"UserHeader_text_division__1-K40",delete_btn:"UserHeader_delete_btn___eV99",delete_icon:"UserHeader_delete_icon__1EWPK"}},function(e,t,a){e.exports={label:"SelectField_label__2wZZM",dropdown:"SelectField_dropdown__2SpfF",dropdown_btn:"SelectField_dropdown_btn__1CQts",option:"SelectField_option__P3WRu",input_error:"SelectField_input_error__30Bmm",invalid:"SelectField_invalid__147oe"}},,function(e,t,a){e.exports={reaction_btn:"ReactionBtn_reaction_btn__1Bgt1",icon:"ReactionBtn_icon__mIbal"}},function(e,t,a){e.exports={block:"Post_block__38d65",title:"Post_title__2DVAi",photo:"Post_photo__vWhTV",reactions:"Post_reactions__3CJmz",comments_btn:"Post_comments_btn__1_V_j",push_right:"Post_push_right__3ftgG",comment_btn:"Post_comment_btn__3j2Pz"}},,function(e,t,a){e.exports=a.p+"static/media/person-icon.13fff284.svg"},function(e,t,a){e.exports=a.p+"static/media/logo.9fbde2c2.png"},function(e,t,a){e.exports=a.p+"static/media/password-icon.3807eb0c.svg"},,function(e,t,a){e.exports={modal:"Modal_modal__-1MCv",modal__content:"Modal_modal__content__3VqUc",modal__footer:"Modal_modal__footer__3S5F9","modal-enter":"Modal_modal-enter__3QJmg","modal-enter-active":"Modal_modal-enter-active__2zSdo","modal-exit":"Modal_modal-exit__1Lmk7","modal-exit-active":"Modal_modal-exit-active__1GIeg"}},function(e,t,a){e.exports={header:"Posts_header__zOZoC",container:"Posts_container__vip4Q",btn:"Posts_btn__2JiWD",text:"Posts_text__3vnbo",icon:"Posts_icon__3gQXE"}},function(e,t,a){e.exports=a.p+"static/media/signup-icon.34cd9cab.svg"},function(e,t,a){e.exports=a.p+"static/media/login-icon.d2e9ba6c.svg"},function(e,t,a){e.exports=a.p+"static/media/post-icon.b8ec1592.svg"},function(e,t,a){e.exports=a.p+"static/media/categories-icon.a2cc9e0c.svg"},function(e,t,a){e.exports=a.p+"static/media/close-icon.80a3ebc0.svg"},function(e,t,a){e.exports=a.p+"static/media/send-icon.56611ebb.svg"},function(e,t,a){e.exports=a.p+"static/media/modify-icon.b5ae602e.svg"},,function(e,t,a){e.exports={btn:"NavBtn_btn__pL39T",icon:"NavBtn_icon__3ZAh3"}},,function(e,t,a){},,,function(e,t,a){e.exports={btn:"ActionBtn_btn__3aNiu",icon:"ActionBtn_icon__3RizB"}},function(e,t,a){e.exports={btn:"ConfirmModal_btn__20rU_",okIcon:"ConfirmModal_okIcon__3gHcB"}},function(e,t,a){e.exports={block:"Comment_block__3Cr_7",text:"Comment_text__3vWSc"}},,,,function(e,t,a){e.exports=a.p+"static/media/menu-icon.e07316bd.svg"},function(e,t,a){e.exports=a.p+"static/media/agenda-icon.1a8a09ec.svg"},function(e,t,a){e.exports=a.p+"static/media/logout-icon.d93f43f1.svg"},function(e,t,a){e.exports=a.p+"static/media/posts-icon.b39fb484.svg"},function(e,t,a){e.exports={backdrop:"Backdrop_backdrop__28QCc"}},function(e,t,a){e.exports={btn:"ErrorModal_btn__1_N58"}},,function(e,t,a){e.exports=a.p+"static/media/lastname-icon.ab6f7952.svg"},function(e,t,a){e.exports=a.p+"static/media/email-icon.75cb8ec9.svg"},function(e,t,a){e.exports={input_list:"Signup_input_list__yjwKS"}},function(e,t,a){e.exports=a.p+"static/media/clock-icon.400e2e3e.svg"},function(e,t,a){e.exports=a.p+"static/media/coffee-icon.3849d652.svg"},function(e,t,a){e.exports=a.p+"static/media/like-icon.d8a1ba16.svg"},function(e,t,a){e.exports=a.p+"static/media/dislike-icon.06913d04.svg"},function(e,t,a){e.exports=a.p+"static/media/comment-icon.e600818e.svg"},function(e,t,a){e.exports=a.p+"static/media/comments-icon.2f8c4bd8.svg"},function(e,t,a){e.exports=a.p+"static/media/x-icon.eeaccb41.svg"},function(e,t,a){e.exports={header:"PostList_header__1aZJu",container:"PostList_container__2JMvx"}},function(e,t,a){e.exports=a.p+"static/media/linkedin-icon.06701358.svg"},function(e,t,a){e.exports=a.p+"static/media/linkedin-grey-icon.53c46fed.svg"},function(e,t,a){e.exports=a.p+"static/media/logotype.9c126e27.svg"},function(e,t,a){e.exports=a.p+"static/media/delete-icon.5ce044d9.svg"},function(e,t,a){e.exports=a.p+"static/media/ok-icon.353b7575.svg"},function(e,t,a){e.exports=a.p+"static/media/image-icon.937fb3c8.svg"},,,function(e,t,a){e.exports=a(98)},,,,,function(e,t,a){},,,,,,function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n,o=a(0),r=a.n(o),c=a(18),i=a.n(c),l=a(5),s=(a(87),a(6)),m=a(1),u=Object(o.createContext)({isLoggedIn:!1,userId:null,token:null,account:null,login:function(){},logout:function(){}});function p(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}var _=function(){var e=Object(o.useState)(p()),t=Object(m.a)(e,2),a=t[0],n=t[1];return Object(o.useEffect)((function(){function e(){n(p())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),a},d=a(37),b=a.n(d),E=a(38),f=a.n(E),v=a(45),g=a.n(v),h=function(e){return r.a.createElement(l.b,{to:e.link,className:e.btnStyle||g.a.btn},r.a.createElement("img",{className:"".concat(g.a.icon," ").concat(e.iconColor),src:e.icon,alt:""}),r.a.createElement("span",{className:e.textStyle||g.a.text},e.name))},k=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(h,{icon:f.a,name:"connexion",link:"/login",iconColor:"icon_white"}),r.a.createElement(h,{icon:b.a,name:"s'inscrire",link:"/signup",iconColor:"icon_white"}))},N=a(9),O=a.n(N),T=a(50),x=a.n(T),C=function(e){return r.a.createElement("button",{id:e.id,form:e.form,className:x.a.btn,type:e.type,onClick:e.onClick},r.a.createElement("img",{className:"".concat(x.a.icon," ").concat(e.iconColor),src:e.icon,alt:""}),e.name)},S=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(C,{icon:O.a,name:"retourner",onClick:e.backHandle,iconColor:"icon_white"}),r.a.createElement(C,{id:"login-btn",form:"login-form",name:"connexion",type:"submit",icon:f.a,iconColor:"icon_white"}))},P=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(C,{icon:O.a,name:"retourner",onClick:e.backHandle,iconColor:"icon_white"}),r.a.createElement(C,{id:"signup-btn",form:"signup-form",name:"s'inscrire",type:"submit",icon:b.a,iconColor:"icon_white"}))},I=a(56),w=a.n(I),U=a(39),y=a.n(U),j=a(40),L=a.n(j),R=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(h,{id:"menu",name:"menu",icon:w.a,link:"/menu",iconColor:"icon_white"}),r.a.createElement(h,{id:"post",name:"publier",icon:y.a,link:"/posts/new",iconColor:"icon_white"}),r.a.createElement(h,{id:"categories",name:"cat\xe9gories",icon:L.a,link:"/posts",iconColor:"icon_white"}))},D=a(41),A=a.n(D),V=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(C,{icon:A.a,name:"fermer",onClick:e.backHandle,iconColor:"icon_white"}))},B=a(42),H=a.n(B),W=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(C,{icon:O.a,name:"retourner",onClick:e.backHandle,iconColor:"icon_white"}),r.a.createElement(C,{id:"send-post-btn",form:"send-post-form",name:"publier",type:"submit",icon:H.a,iconColor:"icon_white"}))},K=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(C,{icon:O.a,name:"retourner",onClick:e.backHandle,iconColor:"icon_white"}))},F=a(43),G=a.n(F),M=Object(s.i)((function(e){var t,a=Object(o.useContext)(u),n=Number(e.location.pathname.split("/")[2]);return t=a.userId===n?r.a.createElement(h,{id:"update-profile",name:"modifier",icon:G.a,link:"/profile/".concat(a.userId,"/update"),iconColor:"icon_white"}):"",r.a.createElement(r.a.Fragment,null,r.a.createElement(h,{id:"back",name:"retourner",icon:O.a,link:"/posts",iconColor:"icon_white"}),a.userId&&n&&t)})),z=function(e){var t=Object(o.useContext)(u);return r.a.createElement(r.a.Fragment,null,r.a.createElement(h,{icon:A.a,name:"annuler",link:"/profile/".concat(t.userId),iconColor:"icon_white"}))},q=(a(93),Object(s.i)((function(e){var t,a=Object(o.useContext)(u),n=e.location.pathname.split("/")[2],c=function(t){t.preventDefault(),e.history.goBack()};switch(e.location.pathname){case"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/groupomania.app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_URL:"https://groupomania-backend.herokuapp.com"}).GITHUB_URL,"/"):t=r.a.createElement(k,null);break;case"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/groupomania.app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_URL:"https://groupomania-backend.herokuapp.com"}).GITHUB_URL,"/login"):t=r.a.createElement(S,{backHandle:c});break;case"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/groupomania.app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_URL:"https://groupomania-backend.herokuapp.com"}).GITHUB_URL,"/signup"):t=r.a.createElement(P,{backHandle:c});break;case"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/groupomania.app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_URL:"https://groupomania-backend.herokuapp.com"}).GITHUB_URL,"/posts"):a.isLoggedIn&&(t=r.a.createElement(R,{backHandle:c}));break;case"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/groupomania.app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_URL:"https://groupomania-backend.herokuapp.com"}).GITHUB_URL,"/menu"):a.isLoggedIn&&(t=r.a.createElement(V,{backHandle:c}));break;case"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/groupomania.app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_URL:"https://groupomania-backend.herokuapp.com"}).GITHUB_URL,"/posts/new"):a.isLoggedIn&&(t=r.a.createElement(W,{backHandle:c}));break;case"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/groupomania.app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_URL:"https://groupomania-backend.herokuapp.com"}).GITHUB_URL,"/posts/").concat(n):a.isLoggedIn&&(t=r.a.createElement(K,{backHandle:c,commentHandle:c}));break;case"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/groupomania.app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_URL:"https://groupomania-backend.herokuapp.com"}).GITHUB_URL,"/profile/").concat(n):a.isLoggedIn&&(t=r.a.createElement(M,{backHandle:c}));break;case"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/groupomania.app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_URL:"https://groupomania-backend.herokuapp.com"}).GITHUB_URL,"/profile/").concat(a.userId,"/update"):a.isLoggedIn&&(t=r.a.createElement(z,null));break;default:console.log("NAV: Something went wrong!")}return r.a.createElement("footer",null,r.a.createElement("div",{className:"nav_btn_list"},t))}))),J=a(2),X=a.n(J),Q=a(3),Z=function(){var e=Object(o.useState)(!1),t=Object(m.a)(e,2),a=t[0],n=t[1],r=Object(o.useState)(),c=Object(m.a)(r,2),i=c[0],l=c[1],s=Object(o.useRef)([]),u=Object(o.useCallback)(function(){var e=Object(Q.a)(X.a.mark((function e(t){var a,o,r,c,i,m,u=arguments;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>1&&void 0!==u[1]?u[1]:"",o=u.length>2&&void 0!==u[2]?u[2]:null,r=u.length>3&&void 0!==u[3]?u[3]:{},n(!0),c=new AbortController,s.current.push(c),e.prev=6,e.next=9,fetch(t,{method:a,body:o,headers:r,signal:c.signal});case 9:return i=e.sent,e.next=12,i.json();case 12:if(m=e.sent,s.current=s.current.filter((function(e){return e!==c})),i.ok){e.next=16;break}throw new Error(m.message);case 16:return n(!1),e.abrupt("return",m);case 20:throw e.prev=20,e.t0=e.catch(6),l(e.t0.message),n(!1),e.t0;case 25:case"end":return e.stop()}}),e,null,[[6,20]])})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(o.useEffect)((function(){return function(){s.current.forEach((function(e){return e.abort()}))}}),[]),{isLoading:a,error:i,sendRequest:u,clearError:function(){l(null)}}},Y=a(23),$=a.n(Y),ee=a(31),te=a.n(ee),ae=a(57),ne=a.n(ae),oe=a(58),re=a.n(oe),ce=a(59),ie=a.n(ce),le=a(100),se=a(60),me=a.n(se),ue=function(e){return i.a.createPortal(r.a.createElement("div",{className:me.a.backdrop,onClick:e.onClick}),document.getElementById("backdrop-hook"))},pe=a(35),_e=a.n(pe),de=function(e){var t=r.a.createElement("div",{className:"".concat(_e.a.modal," ").concat(e.className),style:e.style},r.a.createElement("form",{onSubmit:e.onSubmit?e.onSubmit:function(e){return e.preventDefault()}},r.a.createElement("div",{className:"".concat(_e.a.modal__content," ").concat(e.contentClass)},e.children),r.a.createElement("footer",{className:"".concat(_e.a.modal__footer," ").concat(e.footerClass)},e.footer)));return i.a.createPortal(t,document.getElementById("modal-hook"))},be=function(e){return r.a.createElement(r.a.Fragment,null,e.show&&r.a.createElement(ue,{onClick:e.onCancel}),r.a.createElement(le.a,{in:e.show,mountOnEnter:!0,unmountOnExit:!0,timeout:10,classNames:_e.a.modal},r.a.createElement(de,e)))},Ee=a(24),fe=a.n(Ee),ve=function(e){var t,a;return t=e.icon?r.a.createElement("img",{id:"icon",className:"".concat(fe.a.icon," ").concat(e.iconColor),src:e.icon,alt:""}):null,"valid"===e.btnType&&(a=fe.a.valid),"cancel"===e.btnType&&(a=fe.a.cancel),"warning"===e.btnType&&(a=fe.a.warning),r.a.createElement("button",{id:e.id,className:"".concat(fe.a.btn," ").concat(a," ").concat(e.buttonClass),type:e.type,form:e.form,onClick:e.onClick},r.a.createElement("div",{className:fe.a.justify},r.a.createElement("span",{className:fe.a.text},e.name),t))},ge=a(61),he=a.n(ge),ke=function(e){return r.a.createElement(be,{onCancel:e.onClear,header:"An Error Occurred!",show:!!e.error,footer:r.a.createElement(ve,{id:"accept-btn",name:"Ok",type:"submit",btnType:"warning",onClick:e.onClear,buttonClass:he.a.btn})},r.a.createElement("p",null,e.error))},Ne=(a(95),function(e){return r.a.createElement("div",{className:"".concat(e.asOverlay&&"loading-spinner__overlay")},r.a.createElement("div",{className:"lds-dual-ring"}))}),Oe=a(4),Te=a.n(Oe),xe=function(){var e=Object(o.useContext)(u),t=Z(),a=t.isLoading,n=t.error,c=t.sendRequest,i=t.clearError,p=_().width,d=Object(s.g)(),b=Object(o.useState)(),E=Object(m.a)(b,2),f=E[0],v=E[1];Object(o.useEffect)((function(){var t=!0;e.token&&e.userId&&function(){var a=Object(Q.a)(X.a.mark((function a(){var n;return X.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,c("".concat("https://groupomania-backend.herokuapp.com","/profile/").concat(e.userId),"GET",null,{Authorization:"Bearer "+e.token});case 3:n=a.sent,t&&v(n),a.next=9;break;case 7:a.prev=7,a.t0=a.catch(0);case 9:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(){return a.apply(this,arguments)}}()();return function(){return t=!1}}),[c,e.token,e.userId,v]);var g;return p>=1024&&(g=r.a.createElement(r.a.Fragment,null,r.a.createElement(l.b,{to:"/posts",className:"".concat(Te.a.btn," ").concat(Te.a.border)},r.a.createElement("span",{className:Te.a.text},"Publications"),r.a.createElement("img",{className:"".concat(Te.a.icon," icon_white"),src:ie.a,alt:""})),r.a.createElement(l.b,{to:"/posts",className:"".concat(Te.a.btn," ").concat(Te.a.border)},r.a.createElement("span",{className:Te.a.text},"Cat\xe9gories"),r.a.createElement("img",{className:"".concat(Te.a.icon," icon_white"),src:L.a,alt:""})))),a?r.a.createElement("div",{className:Te.a.container},r.a.createElement("div",{className:"spinner"},r.a.createElement(Ne,null))):f?r.a.createElement(r.a.Fragment,null,r.a.createElement(ke,{error:n,onClear:i}),r.a.createElement(r.a.Fragment,null,!a&&f&&r.a.createElement("div",{className:Te.a.cover},r.a.createElement("div",{className:Te.a.background_img}),r.a.createElement("div",{className:Te.a.wrapper},r.a.createElement("img",{src:f.photo_url||$.a,className:Te.a.profile_photo,alt:"".concat(f.firstName," ").concat(f.lastName)}),r.a.createElement("div",{className:Te.a.hero_block},r.a.createElement("h2",{className:Te.a.title},"Bienvenue ",f.firstName," !"))),r.a.createElement("nav",{className:Te.a.list},r.a.createElement(l.b,{to:"profile/".concat(e.userId),className:"".concat(Te.a.btn," ").concat(Te.a.border)},r.a.createElement("span",{className:Te.a.text},"Mon profil"),r.a.createElement("img",{className:"".concat(Te.a.icon," icon_white"),src:te.a,alt:""})),g,r.a.createElement(l.b,{to:"/posts",className:"".concat(Te.a.btn," ").concat(Te.a.border)},r.a.createElement("span",{className:Te.a.text},"Annuaire"),r.a.createElement("img",{className:"".concat(Te.a.icon," icon_white"),src:ne.a,alt:""})),r.a.createElement("button",{className:"".concat(Te.a.btn," ").concat(Te.a.logout_margin),onClick:function(t){t.preventDefault(),e.logout(),d.push("/")}},r.a.createElement("span",{className:Te.a.text},"Se d\xe9connecter"),r.a.createElement("img",{className:"".concat(Te.a.icon," icon_white"),src:re.a,alt:""})))))):r.a.createElement(r.a.Fragment,null,r.a.createElement(ke,{error:n,onClear:i}),r.a.createElement("div",{className:Te.a.container},r.a.createElement("h2",null,"No User Data!")))},Ce=(a(96),Object(s.i)((function(e){var t=_().width,a=e.location.pathname,n=r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{className:"home_wrapper"},e.children),r.a.createElement(q,null)),o=r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"desktop_wrap"},r.a.createElement(xe,null),r.a.createElement("main",{className:"wrapper"},e.children)),r.a.createElement("p",{className:"disclaimer"},"Plan du site \xa9 Groupomania 2020. La Societ\xe9 ne prend aucune responsabilit\xe9 l\xe9gale sur les publications faites par ses employ\xe9s."));if(t<=1023)return n;if(t>=1024)switch(a){case"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/groupomania.app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_URL:"https://groupomania-backend.herokuapp.com"}).GITHUB_URL,"/"):case"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/groupomania.app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_URL:"https://groupomania-backend.herokuapp.com"}).GITHUB_URL,"/login"):case"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/groupomania.app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_URL:"https://groupomania-backend.herokuapp.com"}).GITHUB_URL,"/signup"):return n;default:return o}}))),Se=a(32),Pe=a.n(Se),Ie=(a(47),function(){return r.a.createElement("div",{className:"background_image"},r.a.createElement("img",{src:Pe.a,className:"logo",alt:"Logo de Groupomania, entreprise de grande distribution europ\xe9enne"}),r.a.createElement("div",{className:"welcome"},r.a.createElement("h3",{className:"title"},"Bienvenue"),r.a.createElement("p",{className:"message"},"sur le r\xe9seau social pour partager avec vos coll\xe8gues !")))}),we=a(44),Ue=a(19),ye=function(e,t){switch(t.type){case"INPUT_CHANGE":var a=!0;for(var n in e.inputs)e.inputs[n]&&(a=n===t.inputId?a&&t.isValid:a&&e.inputs[n].isValid);return Object(Ue.a)(Object(Ue.a)({},e),{},{inputs:Object(Ue.a)(Object(Ue.a)({},e.inputs),{},Object(we.a)({},t.inputId,{value:t.value,isValid:t.isValid})),isValid:a});case"SET_DATA":return{inputs:t.inputs,isValid:t.formIsValid};default:return e}},je=function(e,t){var a=Object(o.useReducer)(ye,{inputs:e,isValid:t}),n=Object(m.a)(a,2),r=n[0],c=n[1];return[r,Object(o.useCallback)((function(e,t,a){c({type:"INPUT_CHANGE",value:t,isValid:a,inputId:e})}),[]),Object(o.useCallback)((function(e,t){c({type:"SET_DATA",inputs:e,formIsValid:t})}),[])]},Le=a(62),Re=function(e){return{type:"MINLENGTH",val:e}},De=function(e){return{type:"MAXLENGTH",val:e}},Ae=function(e,t){var a,n=!0,o=Object(Le.a)(t);try{for(o.s();!(a=o.n()).done;){var r=a.value;"REQUIRED"===r.type&&(n=n&&e.trim().length>0),"MINLENGTH"===r.type&&(n=n&&e.trim().length>=r.val),"MAXLENGTH"===r.type&&(n=n&&e.trim().length<=r.val),"MIN"===r.type&&(n=n&&+e>=r.val),"MAX"===r.type&&(n=n&&+e<=r.val),"TEXT"===r.type&&(n=n&&/^[A-Z\xc0\xc2\xc6\xc7\xc9\xc8\xca\xcb\xcf\xce\xd4\u0152\xd9\xdb\xdc\u0178 '-]+$/i.test(e)),"EMAIL"===r.type&&(n=n&&/^\S+@\S+\.\S+$/.test(e))}}catch(c){o.e(c)}finally{o.f()}return n},Ve=a(33),Be=a.n(Ve),He=a(14),We=a.n(He),Ke=function(e,t){switch(t.type){case"CHANGE":return Object(Ue.a)(Object(Ue.a)({},e),{},{value:t.val,isValid:Ae(t.val,t.validators)});case"TOUCH":return Object(Ue.a)(Object(Ue.a)({},e),{},{isTouched:!0});default:return e}},Fe=function(e){var t=Object(o.useReducer)(Ke,{value:e.initialValue||"",isTouched:!1,isValid:e.initialValid||!1}),a=Object(m.a)(t,2),n=a[0],c=a[1],i=e.id,l=e.onInput,s=n.value,u=n.isValid;Object(o.useEffect)((function(){l(i,s,u)}),[i,s,u,l]);var p,_,d=function(t){c({type:"CHANGE",val:t.target.value,validators:e.validators})},b=function(){c({type:"TOUCH"})};"yes"===e.textIsWhite?(p=We.a.white_box,_=We.a.border_white):(p=We.a.box,_="");var E,f=e.label?r.a.createElement("label",{className:We.a.label,htmlFor:e.id},e.label):null;E=e.icon&&"yes"===e.textIsWhite?r.a.createElement("img",{className:"".concat(We.a.icon," icon_white"),src:e.icon,alt:e.alt}):e.icon?r.a.createElement("img",{className:We.a.icon,src:e.icon,alt:e.alt}):"";var v="input"===e.element?r.a.createElement("input",{id:e.id,className:"".concat(p," ").concat(We.a.input_height," "),name:e.name,type:e.type,placeholder:e.placeholder,autoComplete:e.autocomplete,value:n.value,onChange:d,onBlur:b}):r.a.createElement("textarea",{id:e.id,className:"".concat(p," ").concat(We.a.textarea),name:e.name,type:e.type,rows:e.rows||3,placeholder:e.placeholder,autoComplete:e.autocomplete,value:n.value,onChange:d,onBlur:b});return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"".concat(We.a.block," ").concat(_,"\n        ").concat(!n.isValid&&n.isTouched&&We.a.invalid)},f,r.a.createElement("div",{className:We.a.wrapper},v,E)),!n.isValid&&n.isTouched&&r.a.createElement("p",{className:We.a.input_error},e.errorText))},Ge=function(){var e=Object(o.useContext)(u),t=Object(s.g)(),a=Z(),n=a.error,c=a.sendRequest,i=je({email:{value:"",isValid:!1},password:{value:"",isValid:!1}},!1),p=Object(m.a)(i,2),_=p[0],d=p[1],b=function(){var a=Object(Q.a)(X.a.mark((function a(n){var o,r;return X.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n.preventDefault(),_.isValid){a.next=3;break}return a.abrupt("return");case 3:return a.prev=3,o={email:_.inputs.email.value,password:_.inputs.password.value},a.next=7,c("".concat("https://groupomania-backend.herokuapp.com","/login"),"POST",JSON.stringify(o),{"Content-Type":"application/json"});case 7:r=a.sent,e.login(r.userId,r.token,r.account),t.push("/posts"),a.next=14;break;case 12:a.prev=12,a.t0=a.catch(3);case 14:case"end":return a.stop()}}),a,null,[[3,12]])})));return function(e){return a.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"background_image"},r.a.createElement("img",{src:Pe.a,className:"logo",alt:"Logo de Groupomania, entreprise de grande distribution europ\xe9enne"}),r.a.createElement("form",{id:"login-form",className:"input_list",onSubmit:b},r.a.createElement(Fe,{id:"email",name:"email",type:"email",onInput:d,placeholder:"email",autocomplete:"email",icon:te.a,alt:"email icon",element:"input",hasLabel:"no",textIsWhite:"yes",validators:[{type:"EMAIL"},Re(6)],errorText:"Votre email n'est pas correct",initialValue:_.inputs.email.value,initialValid:_.inputs.email.isValid}),r.a.createElement(Fe,{id:"password",name:"password",type:"password",onInput:d,placeholder:"mot de passe",autocomplete:"current-password",icon:Be.a,alt:"password icon",element:"input",hasLabel:"no",textIsWhite:"yes",validators:[Re(8)],errorText:"Votre mot de passe n'est pas correct",initialValue:_.inputs.password.value,initialValid:_.inputs.password.isValid})),r.a.createElement("p",{className:"error_message"},n),r.a.createElement(l.b,{className:"forgot_pass_link",to:"/login"},"mot de passe oubli\xe9 ?")),r.a.createElement("div",{className:"background_blur"}))},Me=a(63),ze=a.n(Me),qe=a(64),Je=a.n(qe),Xe=a(65),Qe=a.n(Xe),Ze=function(){var e=Object(o.useContext)(u),t=Object(s.g)(),a=je({firstName:{value:"",isValid:!1},lastName:{value:"",isValid:!1},email:{value:"",isValid:!1},password:{value:"",isValid:!1}},!1),n=Object(m.a)(a,2),c=n[0],i=n[1],l=Z(),p=l.error,_=l.sendRequest,d=function(){var a=Object(Q.a)(X.a.mark((function a(n){var o,r;return X.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n.preventDefault(),c.isValid){a.next=3;break}return a.abrupt("return");case 3:return a.prev=3,o={firstName:c.inputs.firstName.value,lastName:c.inputs.lastName.value.toUpperCase(),email:c.inputs.email.value,password:c.inputs.password.value},a.next=7,_("".concat("https://groupomania-backend.herokuapp.com","/signup"),"POST",JSON.stringify(o),{"Content-Type":"application/json"});case 7:r=a.sent,e.login(r.userId,r.token,r.account),t.push("/posts"),a.next=14;break;case 12:a.prev=12,a.t0=a.catch(3);case 14:case"end":return a.stop()}}),a,null,[[3,12]])})));return function(e){return a.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"background_image"},r.a.createElement("img",{src:Pe.a,className:"logo",alt:"Logo de Groupomania, entreprise de grand distribution europ\xe9en"}),r.a.createElement("form",{id:"signup-form",className:Qe.a.input_list,onSubmit:d},r.a.createElement(Fe,{id:"firstName",name:"firstName",type:"text",placeholder:"pr\xe9nom",autocomplete:"given-name",icon:te.a,alt:"first name icon",element:"input",hasLabel:"no",textIsWhite:"yes",validators:[Re(2),{type:"TEXT"}],errorText:"Veuillez rentrer uniquement des lettres",onInput:i,initialValue:c.inputs.firstName.value,initialValid:c.inputs.firstName.isValid}),r.a.createElement(Fe,{id:"lastName",name:"lastName",type:"text",placeholder:"nom",autocomplete:"family-name",icon:ze.a,alt:"last name icon",element:"input",hasLabel:"no",textIsWhite:"yes",validators:[Re(2),{type:"TEXT"}],errorText:"Veuillez rentrer uniquement des lettres",onInput:i,initialValue:c.inputs.lastName.value,initialValid:c.inputs.lastName.isValid}),r.a.createElement(Fe,{id:"email",name:"email",type:"email",placeholder:"email",autocomplete:"email",icon:Je.a,alt:"email icon",element:"input",hasLabel:"no",textIsWhite:"yes",validators:[{type:"EMAIL"},Re(6)],errorText:"Votre email n'est pas correct",onInput:i,initialValue:c.inputs.email.value,initialValid:c.inputs.email.isValid}),r.a.createElement(Fe,{id:"password",name:"password",type:"password",placeholder:"mot de passe",autocomplete:"current-password",icon:Be.a,alt:"password icon",element:"input",hasLabel:"no",textIsWhite:"yes",validators:[Re(8)],errorText:"Minimum une majuscule, un chiffre et 8 lettres",onInput:i,initialValue:c.inputs.password.value,initialValid:c.inputs.password.isValid})),r.a.createElement("p",{className:"error_message"},p)),r.a.createElement("div",{className:"background_blur"}))},Ye=a(66),$e=a.n(Ye),et=a(67),tt=a.n(et),at=a(21),nt=a.n(at),ot=function(e){var t;return t="active"===e.active?r.a.createElement("button",{className:nt.a.btn_active,onClick:e.onClick},r.a.createElement("div",{className:nt.a.container_active},r.a.createElement("span",{className:nt.a.text_active},e.name),r.a.createElement("img",{className:nt.a.icon_active,src:e.icon,alt:""}))):r.a.createElement("button",{className:nt.a.btn,onClick:e.onClick},r.a.createElement("div",{className:nt.a.container},r.a.createElement("span",{className:nt.a.text},e.name),r.a.createElement("img",{className:nt.a.icon,src:e.icon,alt:""}))),r.a.createElement(r.a.Fragment,null,t)},rt=a(68),ct=a.n(rt),it=a(69),lt=a.n(it),st=a(70),mt=a.n(st),ut=a(71),pt=a.n(ut),_t=a(28),dt=a.n(_t),bt=function(e){var t,a,n="";switch(e.reaction){case"like":n="icon_green";break;case"dislike":n="icon_red";break;case null:n="";break;default:console.log("Something went wrong with reactionColor in ReactionBtn Component")}switch(e.icon){case"like":t=ct.a;break;case"dislike":t=lt.a;break;case"comment":t=mt.a;break;case"comments":t=pt.a;break;default:console.log("Something went wrong with icon in ReactionBtn Component")}switch(e.btnType){case"functional":a=r.a.createElement("button",{name:e.name,className:"".concat(dt.a.reaction_btn," ").concat(e.styling),onClick:e.onReaction},r.a.createElement("img",{className:"".concat(dt.a.icon," ").concat(n),src:t,alt:""}),r.a.createElement("span",null,e.text));break;case"link":a=r.a.createElement(l.b,{to:e.link,className:"".concat(dt.a.reaction_btn," ").concat(e.styling)},r.a.createElement("img",{className:"".concat(dt.a.icon," ").concat(n),src:t,alt:""}),r.a.createElement("span",null,e.text));break;case"decor":a=r.a.createElement("div",{className:"".concat(dt.a.reaction_btn," ").concat(e.styling)},r.a.createElement("img",{className:"".concat(dt.a.icon," ").concat(n),src:t,alt:""}),r.a.createElement("span",null,e.text));break;default:console.log("Something went wrong with btn in ReactionBtn Component")}return r.a.createElement(r.a.Fragment,null,a)},Et=a(72),ft=a.n(Et),vt=a(25),gt=a.n(vt),ht=function(e){var t,a,n,c=Object(o.useContext)(u),i=new Date(e.date),s=new Date,m=Math.abs(s-i);m<=6e3&&(t=Math.ceil(m/1e3)+" s");m>=6e4&&(t=Math.ceil(m/6e4)+" m");m>=36e5&&(t=Math.ceil(m/36e5)+" h");m>=216e6&&(t=Math.ceil(m/864e5)+" j");m>=189216e6&&(t=Math.floor(m/31536e6)+" a");return a=e.category?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:gt.a.text_division},"|"),r.a.createElement("span",null,e.category)):"",n=c.userId===e.UserId||"admin"===c.account?r.a.createElement("button",{className:gt.a.delete_btn,onClick:e.onDelete},r.a.createElement("img",{className:gt.a.delete_icon,src:ft.a,alt:"delete icon"})):"",r.a.createElement("header",{className:gt.a.block},r.a.createElement(l.b,{to:"/profile/".concat(e.UserId)},r.a.createElement("img",{className:gt.a.photo,src:e.photo_url||$.a,alt:"".concat(e.firstName," ").concat(e.lastName)}),e.firstName," ",e.lastName),r.a.createElement("p",{className:gt.a.text},a,r.a.createElement("span",{className:gt.a.text_division},"\u2022"),r.a.createElement("span",null,t)),n)},kt=a(29),Nt=a.n(kt),Ot=Object(s.i)((function(e){var t,a=Object(o.useContext)(u),n=Z(),c=n.isLoading,i=n.sendRequest,l=Object(s.g)(),p=e.location.pathname,_=e.location.pathname.split("/")[2],d=Object(o.useState)(e.likes),b=Object(m.a)(d,2),E=b[0],f=b[1],v=Object(o.useState)(e.dislikes),g=Object(m.a)(v,2),h=g[0],k=g[1],N=Object(o.useState)(e.userReaction),O=Object(m.a)(N,2),T=O[0],x=O[1],C=Object(o.useState)(null!==e.userReaction),S=Object(m.a)(C,2),P=S[0],I=S[1],w=function(){var t=Object(Q.a)(X.a.mark((function t(n){var o;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),t.t0=T,t.next=null===t.t0?4:"null"===t.t0?8:"like"===t.t0?11:"dislike"===t.t0?13:15;break;case 4:return"like"===n.currentTarget.name?(f((function(e){return e+1})),o=n.currentTarget.name):(k((function(e){return e+1})),o=n.currentTarget.name),x(n.currentTarget.name),I(!0),t.abrupt("break",17);case 8:return"like"===n.currentTarget.name?(f((function(e){return e+1})),o=n.currentTarget.name):(k((function(e){return e+1})),o=n.currentTarget.name),x(n.currentTarget.name),t.abrupt("break",17);case 11:return"like"===n.currentTarget.name?(f((function(e){return e-1})),x("null"),o="null"):(f((function(e){return e-1})),k((function(e){return e+1})),x(n.currentTarget.name),o=n.currentTarget.name),t.abrupt("break",17);case 13:return"dislike"===n.currentTarget.name?(k((function(e){return e-1})),x("null"),o="null"):(f((function(e){return e+1})),k((function(e){return e-1})),x(n.currentTarget.name),o=n.currentTarget.name),t.abrupt("break",17);case 15:return console.log("an error was produced in userReactionHandler function on post component"),t.abrupt("break",17);case 17:return t.next=19,fetch("".concat("https://groupomania-backend.herokuapp.com","/posts/reaction"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+a.token},body:JSON.stringify({PostId:e.id,reaction:o,reacted:P})}).catch((function(e){return console.log(e)}));case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),U=function(){var t=Object(Q.a)(X.a.mark((function t(){return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i("".concat("https://groupomania-backend.herokuapp.com","/posts/").concat(e.id),"DELETE",JSON.stringify({image_url:e.image_url}),{"Content-Type":"application/json",Authorization:"Bearer "+a.token});case 3:p==="/posts/".concat(_)?l.push("/posts"):e.onDelete(e.id),t.next=8;break;case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}();return t="/posts"===e.location.pathname?r.a.createElement(r.a.Fragment,null,r.a.createElement(bt,{btnType:"decor",icon:"comments",text:e.comments,styling:"",reaction:null}),r.a.createElement(bt,{btnType:"link",link:e.post_link,reaction:null,icon:"comment",text:"commenter",styling:Nt.a.comment_btn})):r.a.createElement(bt,{btnType:"decor",icon:"comments",text:e.comments,styling:Nt.a.push_right,reaction:null}),r.a.createElement("article",{id:e.id},c&&r.a.createElement("div",{className:"spinner"},r.a.createElement(Ne,{asOverlay:!0})),r.a.createElement(ht,{UserId:e.UserId,photo_url:e.photo_url,firstName:e.firstName,lastName:e.lastName,date:e.date,category:e.category,onDelete:U}),r.a.createElement("section",{className:Nt.a.block},r.a.createElement("h3",{className:Nt.a.title},e.title),r.a.createElement("img",{className:Nt.a.photo,src:e.image_url,alt:"post"}),r.a.createElement("footer",{className:Nt.a.reactions},r.a.createElement(bt,{btnType:"functional",name:"like",onReaction:w,reaction:"like"===T?"like":null,icon:"like",text:E,styling:""}),r.a.createElement(bt,{btnType:"functional",name:"dislike",onReaction:w,reaction:"dislike"===T?"dislike":null,icon:"dislike",text:h,styling:""}),t)))})),Tt=a(73),xt=a.n(Tt),Ct=function(e){return 0===e.items.length?r.a.createElement("div",{className:xt.a.container},r.a.createElement("h2",null,"No Posts Created")):r.a.createElement(r.a.Fragment,null,e.items.map((function(t){return r.a.createElement(Ot,{key:t.PostId,id:t.PostId,UserId:t.UserId,photo_url:t.photo_url,firstName:t.firstName,lastName:t.lastName,date:t.post_date,category:t.category,title:t.title,image_url:t.image_url,likes:t.likes,dislikes:t.dislikes,comments:t.comments,userReaction:t.userReaction,post_link:"/posts/".concat(t.PostId),onDelete:e.onDeletePost})})))},St=a(36),Pt=a.n(St),It=function(){var e=Object(o.useContext)(u),t=_().width,a=Z(),n=a.isLoading,c=a.error,i=a.sendRequest,s=a.clearError,p=Object(o.useState)([]),d=Object(m.a)(p,2),b=d[0],E=d[1],f=Object(o.useState)({mostRecents:"active",mostLiked:""}),v=Object(m.a)(f,2),g=v[0],h=v[1];Object(o.useEffect)((function(){(function(){var t=Object(Q.a)(X.a.mark((function t(){var a;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i("".concat("https://groupomania-backend.herokuapp.com","/posts"),"GET",null,{Authorization:"Bearer "+e.token});case 3:a=t.sent,E(a),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}})()()}),[i,e.token]);var k,N=function(){var t=Object(Q.a)(X.a.mark((function t(){var a;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return E([]),t.prev=1,t.next=4,i("".concat("https://groupomania-backend.herokuapp.com","/posts"),"GET",null,{Authorization:"Bearer "+e.token});case 4:a=t.sent,E(a),h({mostRecents:"active",mostLiked:""}),t.next=11;break;case 9:t.prev=9,t.t0=t.catch(1);case 11:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(){return t.apply(this,arguments)}}(),O=function(){var t=Object(Q.a)(X.a.mark((function t(){var a;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return E([]),t.prev=1,t.next=4,i("".concat("https://groupomania-backend.herokuapp.com","/posts/most-liked"),"GET",null,{Authorization:"Bearer "+e.token});case 4:a=t.sent,E(a),h({mostRecents:"",mostLiked:"active"}),t.next=11;break;case 9:t.prev=9,t.t0=t.catch(1);case 11:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(){return t.apply(this,arguments)}}();return t>=1024&&(k=r.a.createElement(l.b,{to:"posts/new",className:Pt.a.btn},r.a.createElement("span",{className:Pt.a.text},"NOUVEAU POST"),r.a.createElement("img",{className:Pt.a.icon,src:y.a,alt:""}))),r.a.createElement(r.a.Fragment,null,r.a.createElement(ke,{error:c,onClear:s}),r.a.createElement("nav",{className:Pt.a.header},r.a.createElement(ot,{name:"\xc0 LA UNE",icon:$e.a,active:g.mostRecents,onClick:N}),r.a.createElement(ot,{name:"LES PLUS AIM\xc9S",icon:tt.a,active:g.mostLiked,onClick:O}),k),r.a.createElement("div",{className:"container"},n&&r.a.createElement("div",{className:"spinner"},r.a.createElement(Ne,null)),!n&&g&&b&&r.a.createElement(Ct,{items:b,onDeletePost:function(e){E((function(t){return t.filter((function(t){return t.PostId!==e}))}))}})))},wt=a(74),Ut=a.n(wt),yt=a(75),jt=a.n(yt),Lt=a(76),Rt=a.n(Lt),Dt=a(17),At=a.n(Dt),Vt=function(e){return r.a.createElement("div",{className:At.a.block},r.a.createElement("div",{className:At.a.counter},r.a.createElement("h5",{className:At.a.title},"Publications"),r.a.createElement("span",{className:At.a.count},e.postsCount),r.a.createElement("p",{className:At.a.text},"par vous")),r.a.createElement("img",{className:At.a.logotype,src:Rt.a,alt:"Logo de Groupomania"}),r.a.createElement("div",{className:At.a.counter},r.a.createElement("h5",{className:At.a.title},"Aim\xe9es par"),r.a.createElement("span",{className:At.a.count},e.likesCount),r.a.createElement("p",{className:At.a.text},"vos coll\xe8gues")))},Bt=a(8),Ht=a.n(Bt),Wt=function(){var e=Object(o.useContext)(u),t=Z(),a=t.isLoading,n=t.error,c=t.sendRequest,i=t.clearError,l=Object(o.useState)(),p=Object(m.a)(l,2),d=p[0],b=p[1],E=_().width,f=Number(Object(s.h)().id);Object(o.useEffect)((function(){(function(){var t=Object(Q.a)(X.a.mark((function t(){var a;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c("".concat("https://groupomania-backend.herokuapp.com","/profile/").concat(f),"GET",null,{Authorization:"Bearer "+e.token});case 3:a=t.sent,b(a),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}})()()}),[c,e.token,f]);var v,g=Ht.a.btnStyle,k="".concat(Ht.a.iconStyle," icon_red");return E>=1024&&(v=r.a.createElement("nav",{className:Ht.a.nav},r.a.createElement(h,{id:"back",name:"retourner",icon:O.a,link:"/posts",btnStyle:g,iconColor:k}))),E>=1024&&e.userId===f&&(v=r.a.createElement("nav",{className:Ht.a.nav},r.a.createElement(h,{id:"back",name:"retourner",icon:O.a,link:"/posts",btnStyle:g,iconColor:k}),r.a.createElement(h,{id:"update-profile",name:"Modifier",icon:G.a,link:"/profile/".concat(e.userId,"/update"),btnStyle:g,iconColor:k}))),a?r.a.createElement("div",{className:Ht.a.container},r.a.createElement("div",{className:"spinner"},r.a.createElement(Ne,null))):d?r.a.createElement(r.a.Fragment,null,r.a.createElement(ke,{error:n,onClear:i}),r.a.createElement("div",{className:"container ".concat(Ht.a.class_mod)},!a&&d&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Ht.a.background_img}),r.a.createElement("div",{className:Ht.a.wrapper},r.a.createElement("img",{src:d.photo_url||$.a,className:Ht.a.profile_photo,alt:"".concat(d.firstName," ").concat(d.lastName,", employ\xe9 chez groupomania.")}),r.a.createElement("div",{className:Ht.a.hero_block},r.a.createElement("h2",{className:Ht.a.title},d.firstName," ",d.lastName),d.linkedin_url?r.a.createElement("a",{href:d.linkedin_url,rel:"noopener"},r.a.createElement("img",{className:Ht.a.Linkedin_icon,src:Ut.a,alt:"Logo du reseaux social linkedin"})):r.a.createElement("img",{className:Ht.a.Linkedin_icon,src:jt.a,alt:"Logo du reseaux social linkedin"})),r.a.createElement("p",{className:Ht.a.department},d.department),r.a.createElement("p",{className:Ht.a.role},d.role),r.a.createElement("a",{className:Ht.a.email,href:"mailto:".concat(d.email)},d.email),r.a.createElement(Vt,{likesCount:d.likesCount||0,postsCount:d.postsCount||0}),v)))):r.a.createElement(r.a.Fragment,null,r.a.createElement(ke,{error:n,onClear:i}),r.a.createElement("div",{className:Ht.a.container},r.a.createElement("h2",null,"No User Data!")))},Kt=a(77),Ft=a.n(Kt),Gt=a(78),Mt=a.n(Gt),zt=a(51),qt=a.n(zt),Jt=function(e){return r.a.createElement(be,{show:e.show,onCancel:e.onCancel,footer:r.a.createElement(ve,{id:"accept-btn",name:"Ok",type:"submit",btnType:"warning",onClick:e.onCancel,buttonClass:qt.a.btn})},r.a.createElement("img",{className:"".concat(qt.a.okIcon," icon_green"),src:Mt.a,alt:""}),r.a.createElement("p",null,e.message))},Xt=a(79),Qt=a.n(Xt),Zt=a(12),Yt=a.n(Zt),$t=Object(s.i)((function(e){var t=Object(o.useState)(),a=Object(m.a)(t,2),n=a[0],c=a[1],i=Object(o.useState)(),l=Object(m.a)(i,2),s=l[0],u=l[1],p=Object(o.useState)(!1),_=Object(m.a)(p,2),d=_[0],b=_[1],E=e.location.pathname;Object(o.useEffect)((function(){if(n){var e=new FileReader;e.onload=function(){u(e.result)},e.readAsDataURL(n)}}),[n]);var f=function(t){var a,n=d;t.target.files&&1===t.target.files.length?(a=t.target.files[0],c(a),b(!0),n=!0):(b(!1),n=!1),e.onInput(e.id,a,n)};return"/posts/new"===E?r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"upload-button",className:Yt.a.image_container},s?r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{className:Yt.a.preview_post,src:s,alt:"Pr\xe9visualisation de la publication"}),r.a.createElement("div",{className:Yt.a.red_banner_post},r.a.createElement("span",{className:Yt.a.banner_text_post},"changer l'image"))):r.a.createElement("div",{className:Yt.a.icon_block},r.a.createElement("img",{className:Yt.a.icon,src:Qt.a,alt:""}),r.a.createElement("span",{className:Yt.a.text},"Veuillez choisir une image en cliquant ici"))),r.a.createElement("input",{type:"file",accept:".jpeg,.jpg,.gif",id:"upload-button",style:{display:"none"},onChange:f})):r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"upload-button",className:Yt.a.photo_container},s?r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{className:Yt.a.preview_img,src:s,alt:"Pr\xe9visualisation du profil"}),r.a.createElement("div",{className:Yt.a.red_banner},r.a.createElement("span",{className:Yt.a.banner_text},"changer"))):r.a.createElement("div",null,r.a.createElement("img",{className:Yt.a.profile_photo,src:e.photo_url||$.a,alt:""}),r.a.createElement("div",{className:Yt.a.red_banner},r.a.createElement("span",{className:Yt.a.banner_text},"changer")))),r.a.createElement("input",{type:"file",accept:".jpeg,.jpg",id:"upload-button",style:{display:"none"},onChange:f}))})),ea=a(11),ta=a.n(ea),aa=function(){var e=Object(o.useContext)(u),t=Object(s.g)(),a=_().width,n=Z(),c=n.isLoading,i=n.error,l=n.sendRequest,p=n.clearError,d=Object(o.useState)(),b=Object(m.a)(d,2),E=b[0],f=b[1],v=Object(o.useState)(!1),g=Object(m.a)(v,2),k=g[0],N=g[1],T=Object(o.useState)(!1),x=Object(m.a)(T,2),C=x[0],S=x[1],P=je({image:{value:null,isValid:!1},firstName:{value:"",isValid:!1},lastName:{value:"",isValid:!1},email:{value:"",isValid:!1},department:{value:"",isValid:!1},role:{value:"",isValid:!1},linkedin_url:{value:"",isValid:!1},password:{value:"",isValid:!1}},!1),I=Object(m.a)(P,3),w=I[0],U=I[1],y=I[2];Object(o.useEffect)((function(){(function(){var t=Object(Q.a)(X.a.mark((function t(){var a;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l("".concat("https://groupomania-backend.herokuapp.com","/profile/").concat(e.userId),"GET",null,{Authorization:"Bearer "+e.token});case 3:a=t.sent,f(a),y({image:{value:a.photo_url,isValid:!1},firstName:{value:a.firstName,isValid:!0},lastName:{value:a.lastName,isValid:!0},department:{value:a.department,isValid:!0},role:{value:a.role,isValid:!0},email:{value:a.email,isValid:!0},linkedin_url:{value:a.linkedin_url,isValid:!0}},!0),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}})()()}),[l,e.userId,e.token,y]);var j,L=function(){var t=Object(Q.a)(X.a.mark((function t(a){var n;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),(n=new FormData).append("image",w.inputs.image.value),n.append("firstName",w.inputs.firstName.value),n.append("lastName",w.inputs.lastName.value),n.append("department",w.inputs.department.value),n.append("role",w.inputs.role.value),n.append("email",w.inputs.email.value),n.append("linkedin_url",w.inputs.linkedin_url.value),t.prev=9,t.next=12,l("".concat("https://groupomania-backend.herokuapp.com","/profile/update"),"PATCH",n,{Authorization:"Bearer "+e.token});case 12:V(),t.next=17;break;case 15:t.prev=15,t.t0=t.catch(9);case 17:case"end":return t.stop()}}),t,null,[[9,15]])})));return function(e){return t.apply(this,arguments)}}(),R=function(){var t=Object(Q.a)(X.a.mark((function t(a){return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,l("".concat("https://groupomania-backend.herokuapp.com","/profile/update"),"PUT",JSON.stringify({password:w.inputs.password.value}),{"Content-Type":"application/json",Authorization:"Bearer "+e.token});case 4:V(),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(1);case 9:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}(),D=function(e){e.preventDefault(),N(!1===k)},A=function(){var a=Object(Q.a)(X.a.mark((function a(n){return X.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),a.prev=1,a.next=4,l("".concat("https://groupomania-backend.herokuapp.com","/profile/").concat(e.userId),"DELETE",null,{"Content-Type":"application/json",Authorization:"Bearer "+e.token});case 4:e.logout(),t.push("/"),a.next=10;break;case 8:a.prev=8,a.t0=a.catch(1);case 10:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}(),V=function(){S(!0)},B=ta.a.btnStyle,H="".concat(ta.a.iconStyle," icon_red");return a>=1024&&(j=r.a.createElement(h,{id:"back",name:"Retourner",icon:O.a,link:"/profile/".concat(e.userId),btnStyle:B,iconColor:H})),c?r.a.createElement("div",{className:ta.a.container},r.a.createElement("div",{className:"spinner"},r.a.createElement(Ne,null))):E?r.a.createElement(r.a.Fragment,null,r.a.createElement(ke,{error:i,onClear:p}),r.a.createElement(Jt,{show:C,message:"Votre profil a \xe9t\xe9 bien mis a jour !",onCancel:function(){S(!1),setTimeout((function(){t.push("/profile/".concat(e.userId))}),300)}}),r.a.createElement("div",{className:"container ".concat(ta.a.class_mod)},!c&&E&&r.a.createElement("div",{className:ta.a.wrapper},r.a.createElement("div",{className:ta.a.background_img}),r.a.createElement($t,{center:!0,id:"image",onInput:U,errorText:"Choisissez une image",photo_url:E.photo_url}),r.a.createElement("h4",{className:ta.a.title},"Vos informations personnelles"),j,r.a.createElement("form",{id:"update-form",className:ta.a.update_list,onSubmit:L},r.a.createElement(Fe,{id:"firstName",label:"Pr\xe9nom :",name:"firstName",type:"text",placeholder:"Votre pr\xe9nom",autocomplete:"given-name",maxLength:"45",element:"input",hasLabel:"yes",textIsWhite:"no",validators:[Re(2),De(45),{type:"TEXT"}],errorText:"Veuillez rentrer votre pr\xe9nom",onInput:U,initialValue:E.firstName,initialValid:!0}),r.a.createElement(Fe,{id:"lastName",label:"Nom :",name:"lastName",type:"text",placeholder:"Votre nom",autocomplete:"family-name",maxLength:"45",element:"input",hasLabel:"yes",textIsWhite:"no",validators:[Re(2),De(45),{type:"TEXT"}],errorText:"Veuillez rentrer votre nom de famille",onInput:U,initialValue:E.lastName,initialValid:!0}),r.a.createElement(Fe,{id:"email",label:"E-mail :",name:"email",type:"email",placeholder:"Votre e-mail",autocomplete:"email",maxLength:"100",element:"input",hasLabel:"yes",textIsWhite:"no",validators:[{type:"EMAIL"},Re(6),De(100)],errorText:"Votre email n'est pas correct",onInput:U,initialValue:E.email,initialValid:!0}),r.a.createElement(Fe,{id:"department",label:"D\xe9partement :",name:"department",type:"text",placeholder:"Votre d\xe9partement",maxLength:"65",element:"input",hasLabel:"yes",textIsWhite:"no",validators:[De(65),{type:"TEXT"}],errorText:"Uniquement des lettres",onInput:U,initialValue:E.department,initialValid:!0}),r.a.createElement(Fe,{id:"role",label:"Description du poste :",name:"role",type:"text",placeholder:"Description du poste",maxLength:"65",element:"textarea",hasLabel:"yes",textIsWhite:"no",validators:[De(65),{type:"TEXT"}],errorText:"Uniquement des lettres",onInput:U,initialValue:E.role,initialValid:!0}),r.a.createElement(Fe,{id:"linkedin_url",label:"Linkedin (facultatif) :",name:"linkedin",type:"text",placeholder:"Votre adresse Linkedin",element:"input",hasLabel:"yes",textIsWhite:"no",validators:[],onInput:U,initialValue:E.linkedin_url,initialValid:!0})),r.a.createElement(ve,{id:"update-profile-btn",form:"update-form",name:"Mettre \xe0 jour mon profil",type:"submit",btnType:"valid"}),r.a.createElement("h4",{className:ta.a.title},"Changer mon mot de passe"),r.a.createElement("form",{id:"update-password-form",className:ta.a.update_list,onSubmit:R},r.a.createElement(Fe,{id:"password",label:"Mot de passe :",name:"password",type:"password",placeholder:"Votre nouveau mot de passe",icon:Be.a,alt:"password icon",maxLength:"50",element:"input",hasLabel:"yes",textIsWhite:"no",validators:[Re(8),De(50)],errorText:"Minimum une majuscule, un chiffre et 8 lettres",onInput:U,initialValue:w.inputs.password.value,initialValid:w.inputs.password.isValid})),r.a.createElement(ve,{id:"update-password-btn",form:"update-password-form",name:"Changer mon mot de passe",type:"submit",btnType:"valid"}),r.a.createElement("h4",{className:ta.a.title},"Supprimer mon compte"),r.a.createElement(ve,{id:"delete-profile-btn",icon:Ft.a,name:"Supprimer",onClick:D,btnType:"warning",iconColor:"icon_white"}),r.a.createElement("div",{style:{display:!0===k?"block":"none"}},r.a.createElement("p",{className:ta.a.role},"Vous \xeates sur le point de supprimer votre compte. Toutes les informations li\xe9es \xe0 ce compte seront supprim\xe9es."),r.a.createElement("h5",{className:ta.a.title},"\xcates-vous s\xfbr(e) de vouloir supprimer votre compte ?"),r.a.createElement("div",{className:ta.a.btn_block},r.a.createElement(ve,{id:"accept-btn",name:"Oui",type:"submit",onClick:A,btnType:"warning"}),r.a.createElement(ve,{id:"cancel-btn",name:"Annuler",onClick:D,btnType:"cancel"})))))):r.a.createElement(r.a.Fragment,null,r.a.createElement(ke,{error:i,onClear:p}),r.a.createElement("div",{className:ta.a.container},r.a.createElement("h2",null,"No User Data!")))},na=a(80),oa=a(52),ra=a.n(oa),ca=function(e){var t=Object(o.useContext)(u),a=Z().sendRequest,n=function(){var n=Object(Q.a)(X.a.mark((function n(){return X.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,a("".concat("https://groupomania-backend.herokuapp.com","/posts/comment/").concat(e.id),"DELETE",null,{Authorization:"Bearer "+t.token});case 3:e.onDeleteComment(e.id),n.next=8;break;case 6:n.prev=6,n.t0=n.catch(0);case 8:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(){return n.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(ht,{UserId:e.UserId,photo_url:e.photo_url,firstName:e.firstName,lastName:e.lastName,date:e.date,onDelete:n}),r.a.createElement("div",{className:ra.a.block},r.a.createElement("p",{className:ra.a.text},e.message)))},ia=a(22),la=a.n(ia),sa=function(){var e=Object(o.useContext)(u),t=Object(s.h)().id,a=Z(),n=a.isLoading,c=a.error,i=a.sendRequest,l=a.clearError,p=Object(o.useState)(),_=Object(m.a)(p,2),d=_[0],b=_[1],E=Object(o.useState)(),f=Object(m.a)(E,2),v=f[0],g=f[1],h=je({comment:{value:"",isValid:!1}},!1),k=Object(m.a)(h,2),N=k[0],O=k[1];Object(o.useEffect)((function(){(function(){var a=Object(Q.a)(X.a.mark((function a(){var n;return X.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,i("".concat("https://groupomania-backend.herokuapp.com","/posts/").concat(t),"GET",null,{Authorization:"Bearer "+e.token});case 3:n=a.sent,b(n[0]),g(n[1].comments_list),a.next=10;break;case 8:a.prev=8,a.t0=a.catch(0);case 10:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(){return a.apply(this,arguments)}})()()}),[i,b,e.token,t,g]);var T=function(){var t=Object(Q.a)(X.a.mark((function t(a){var n;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),N.isValid){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,t.next=6,i("".concat("https://groupomania-backend.herokuapp.com","/posts/comment"),"POST",JSON.stringify({postId:d.PostId,message:N.inputs.comment.value}),{"Content-Type":"application/json",Authorization:"Bearer "+e.token});case 6:n=t.sent,g((function(e){return[].concat(Object(na.a)(e),[n])})),O("comment","",!1),t.next=13;break;case 11:t.prev=11,t.t0=t.catch(3);case 13:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e){return t.apply(this,arguments)}}(),x=function(e){g((function(t){return t.filter((function(t){return t.id!==e}))}))};return n?r.a.createElement("div",{className:la.a.container},r.a.createElement("div",{className:"spinner"},r.a.createElement(Ne,null))):d?r.a.createElement(r.a.Fragment,null,r.a.createElement(ke,{error:c,onClear:l}),r.a.createElement("div",{className:"container"},!n&&d&&v&&r.a.createElement("div",{className:la.a.wrapper},r.a.createElement(Ot,{id:d.PostId,UserId:d.UserId,photo_url:d.photo_url,firstName:d.firstName,lastName:d.lastName,date:d.post_date,category:d.category,title:d.title,image_url:d.image_url,likes:d.likes,dislikes:d.dislikes,comments:d.comments,userReaction:d.userReaction,onDelete:function(e){b((function(t){return t.filter((function(t){return t.PostId!==e}))}))}}),r.a.createElement("section",null,v.map((function(e,t){return r.a.createElement(ca,{key:t,id:e.id,UserId:e.UserId,photo_url:e.photo_url,firstName:e.firstName,lastName:e.lastName,date:e.comment_date,message:e.message,onDeleteComment:x})}))),r.a.createElement("div",{className:la.a.comment_wrap},r.a.createElement("form",{className:la.a.comment_form,id:"comment-form",onSubmit:T},r.a.createElement(Fe,{id:"comment",className:la.a.box,name:"comment",type:"text",placeholder:"\xc9crivez un commentaire",maxLength:"65",element:"textarea",hasLabel:"yes",textIsWhite:"no",validators:[Re(2),De(65)],errorText:"Veillez \xe9crire un commentaire",onInput:O,initialValue:"",initialValid:!1})),r.a.createElement("button",{form:"comment-form",className:la.a.btn,type:"submit"},r.a.createElement("img",{className:la.a.icon,src:H.a,alt:"publier commentaire"})))))):r.a.createElement(r.a.Fragment,null,r.a.createElement(ke,{error:c,onClear:l}),r.a.createElement("div",{className:la.a.container},r.a.createElement("h2",null,"No User Data!")))},ma=a(26),ua=a.n(ma),pa=function(e){var t=Object(o.useState)(),a=Object(m.a)(t,2),n=a[0],c=a[1],i=Object(o.useState)(!1),l=Object(m.a)(i,2),s=l[0],u=l[1],p=Object(o.useRef)();return r.a.createElement("div",{className:ua.a.dropdown},r.a.createElement("label",{className:ua.a.label,htmlFor:e.id},e.label),r.a.createElement("select",{id:e.id,className:"".concat(ua.a.dropdown_btn,"\n        ").concat(!s&&n&&ua.a.invalid),ref:p,onChange:function(t){var a,n=s;" "!==t.target.value?(a=t.target.value,c(a),u(!0),n=!0):(u(!1),n=!1),e.onInput(e.id,a,n)}},r.a.createElement("option",{className:ua.a.option,value:" "},"Veuillez choisir une cat\xe9gorie"),e.options.map((function(e,t){return r.a.createElement("option",{className:ua.a.option,key:t,value:e.id},e.categoryIs)}))),!s&&n&&r.a.createElement("p",{className:ua.a.input_error},e.errorText))},_a=a(20),da=a.n(_a),ba=function(e){var t=Object(o.useContext)(u),a=Object(s.g)(),n=Z(),c=n.isLoading,i=n.error,l=n.sendRequest,p=n.clearError,d=_().width,b=Object(o.useState)(),E=Object(m.a)(b,2),f=E[0],v=E[1],g=je({title:{value:"",isValid:!1},category:{value:null,isValid:!1},image:{value:null,isValid:!1}},!1),h=Object(m.a)(g,2),k=h[0],N=h[1];Object(o.useEffect)((function(){(function(){var e=Object(Q.a)(X.a.mark((function e(){var a;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l("".concat("https://groupomania-backend.herokuapp.com","/posts/categories"),"GET",null,{Authorization:"Bearer "+t.token});case 3:a=e.sent,v(a),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[l,t.token,v]);var T,x,C=function(){var e=Object(Q.a)(X.a.mark((function e(n){var o;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),k.isValid){e.next=3;break}return e.abrupt("return");case 3:return(o=new FormData).append("title",k.inputs.title.value),o.append("category",k.inputs.category.value),o.append("image",k.inputs.image.value),e.prev=7,e.next=10,l("".concat("https://groupomania-backend.herokuapp.com","/posts"),"POST",o,{Authorization:"Bearer "+t.token});case 10:a.push("/posts"),e.next=15;break;case 13:e.prev=13,e.t0=e.catch(7);case 15:case"end":return e.stop()}}),e,null,[[7,13]])})));return function(t){return e.apply(this,arguments)}}();return d>=1024&&(T=r.a.createElement("div",{className:da.a.send_btn},r.a.createElement(ve,{id:"send-post-btn",form:"send-post-form",name:"Publier",type:"submit",btnType:"valid"})),x=r.a.createElement("button",{className:da.a.back_btn,onClick:function(t){t.preventDefault(),e.history.goBack()}},r.a.createElement("img",{className:"icon_red",src:O.a,alt:""}))),c?r.a.createElement("div",{className:da.a.container},r.a.createElement("div",{className:"spinner"},r.a.createElement(Ne,null))):f?r.a.createElement(r.a.Fragment,null,r.a.createElement(ke,{error:i,onClear:p}),!c&&f&&r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:da.a.head},r.a.createElement("div",{className:da.a.tab},x,r.a.createElement("div",{className:da.a.tab_border},r.a.createElement("h3",{className:da.a.title},"Nouvelle Publication")))),r.a.createElement("div",{className:"container"},r.a.createElement("form",{className:da.a.form,id:"send-post-form",onSubmit:C},r.a.createElement(Fe,{id:"title",name:"title",type:"text",placeholder:"Titre ou message de la publication",maxLength:"100",element:"textarea",hasLabel:"no",textIsWhite:"no",validators:[Re(2),De(100)],errorText:"Veuillez \xe9crire un commentaire pour votre publication",onInput:N,initialValue:k.inputs.title.value,initialValid:k.inputs.title.isValid}),r.a.createElement($t,{center:!0,id:"image",onInput:N,errorText:"Choisissez une image ou un gif"}),r.a.createElement(pa,{id:"category",label:"Cat\xe9gories :",name:"cat\xe9gories",onInput:N,options:f,errorText:"Choisissez une cat\xe9gorie"}),T)))):r.a.createElement(r.a.Fragment,null,r.a.createElement(ke,{error:i,onClear:p}),r.a.createElement("div",{className:da.a.container},r.a.createElement("h2",null,"No Data!")))},Ea=(a(97),function(){var e,t=function(){var e=Object(o.useState)(!1),t=Object(m.a)(e,2),a=t[0],r=t[1],c=Object(o.useState)(!1),i=Object(m.a)(c,2),l=i[0],s=i[1],u=Object(o.useState)(!1),p=Object(m.a)(u,2),_=p[0],d=p[1],b=Object(o.useState)(),E=Object(m.a)(b,2),f=E[0],v=E[1],g=Object(o.useCallback)((function(e,t,a,n){s(e),r(t),d(a);var o=n||new Date((new Date).getTime()+864e5);v(o),localStorage.setItem("userData",JSON.stringify({userId:e,token:t,account:a,expiration:o.toISOString()}))}),[]),h=Object(o.useCallback)((function(){r(null),s(null),d(null),v(null),localStorage.removeItem("userData")}),[]);return Object(o.useEffect)((function(){if(a&&f){var e=f.getTime()-(new Date).getTime();n=setTimeout(h,e)}else clearTimeout(n)}),[a,h,f]),Object(o.useEffect)((function(){var e=JSON.parse(localStorage.getItem("userData"));e&&e.userId&&e.token&&e.account&&new Date(e.expiration)>new Date&&g(e.userId,e.token,e.account,new Date(e.expiration))}),[g]),{userId:l,token:a,account:_,login:g,logout:h}}(),a=t.userId,c=t.token,i=t.account,l=t.login,p=t.logout;return e=c?r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/groupomania.app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_URL:"https://groupomania-backend.herokuapp.com"}).GITHUB_URL,"/groupomania.app/posts"),exact:!0,component:It}),r.a.createElement(s.b,{path:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/groupomania.app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_URL:"https://groupomania-backend.herokuapp.com"}).GITHUB_URL,"/groupomania.app/posts/new"),exact:!0,component:ba}),r.a.createElement(s.b,{path:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/groupomania.app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_URL:"https://groupomania-backend.herokuapp.com"}).GITHUB_URL,"/groupomania.app/menu"),exact:!0,component:xe}),r.a.createElement(s.b,{path:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/groupomania.app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_URL:"https://groupomania-backend.herokuapp.com"}).GITHUB_URL,"/groupomania.app/profile/:id"),exact:!0,component:Wt}),r.a.createElement(s.b,{path:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/groupomania.app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_URL:"https://groupomania-backend.herokuapp.com"}).GITHUB_URL,"/groupomania.app/profile/:id/update"),exact:!0,component:aa}),r.a.createElement(s.b,{path:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/groupomania.app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_URL:"https://groupomania-backend.herokuapp.com"}).GITHUB_URL,"/groupomania.app/posts/:id"),exact:!0,component:sa}),r.a.createElement(s.a,{to:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/groupomania.app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_URL:"https://groupomania-backend.herokuapp.com"}).GITHUB_URL,"/posts")})):r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/groupomania.app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_URL:"https://groupomania-backend.herokuapp.com"}).GITHUB_URL,"/"),exact:!0,component:Ie}),r.a.createElement(s.b,{path:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/groupomania.app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_URL:"https://groupomania-backend.herokuapp.com"}).GITHUB_URL,"/login"),exact:!0,component:Ge}),r.a.createElement(s.b,{path:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/groupomania.app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_URL:"https://groupomania-backend.herokuapp.com"}).GITHUB_URL,"/signup"),exact:!0,component:Ze}),r.a.createElement(s.a,{to:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/groupomania.app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_URL:"https://groupomania-backend.herokuapp.com"}).GITHUB_URL,"/")})),r.a.createElement(u.Provider,{value:{isLoggedIn:!!c,token:c,userId:a,account:i,login:l,logout:p}},r.a.createElement(Ce,null,e))}),fa=r.a.createElement(l.a,null,r.a.createElement(Ea,null));i.a.render(fa,document.getElementById("root"))}],[[82,1,2]]]);
//# sourceMappingURL=main.8ece1c6d.chunk.js.map